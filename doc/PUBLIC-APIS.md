<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [AiAPI][1]
    -   [Parameters][2]
    -   [register][3]
        -   [Parameters][4]
    -   [learn][5]
        -   [Parameters][6]
    -   [learnWithTime][7]
        -   [Parameters][8]
    -   [guess][9]
        -   [Parameters][10]
    -   [guessWithTime][11]
        -   [Parameters][12]
-   [AlarmAPI][13]
    -   [Parameters][14]
    -   [alarmStatus][15]
    -   [enableAlarm][16]
    -   [disableAlarm][17]
-   [BackupAPI][18]
    -   [Parameters][19]
    -   [alarmStatus][20]
    -   [backup][21]
        -   [Parameters][22]
    -   [restore][23]
        -   [Parameters][24]
    -   [cleanBackupFile][25]
        -   [Parameters][26]
    -   [addBackupFolder][27]
        -   [Parameters][28]
    -   [addBackupFile][29]
        -   [Parameters][30]
-   [BotEngineAPI][31]
    -   [Parameters][32]
    -   [playSound][33]
        -   [Parameters][34]
    -   [textToSpeech][35]
        -   [Parameters][36]
    -   [registerBotAction][37]
        -   [Parameters][38]
    -   [unregisterBotAction][39]
        -   [Parameters][40]
    -   [stringSimilarity][41]
    -   [switchVocalCommands][42]
        -   [Parameters][43]
-   [CameraAPI][44]
    -   [Parameters][45]
    -   [registerForm][46]
        -   [Parameters][47]
    -   [registerClass][48]
        -   [Parameters][49]
    -   [getCameras][50]
    -   [getImage][51]
        -   [Parameters][52]
    -   [record][53]
        -   [Parameters][54]
    -   [getAvailableDetectedObjects][55]
    -   [registerCameraEvent][56]
        -   [Parameters][57]
    -   [unregisterCameraEvent][58]
        -   [Parameters][59]
    -   [saveConfiguration][60]
        -   [Parameters][61]
    -   [getCamera][62]
        -   [Parameters][63]
-   [ConfigurationAPI][64]
    -   [Parameters][65]
    -   [register][66]
        -   [Parameters][67]
    -   [registerSubform][68]
        -   [Parameters][69]
    -   [getConfiguration][70]
    -   [getForm][71]
    -   [setUpdateCb][72]
        -   [Parameters][73]
    -   [loadData][74]
        -   [Parameters][75]
    -   [saveData][76]
        -   [Parameters][77]
    -   [getConfManager][78]
    -   [stop][79]
-   [FormConfiguration][80]
    -   [Parameters][81]
    -   [unregister][82]
    -   [setUpdateCb][83]
        -   [Parameters][84]
    -   [addAdditionalFields][85]
        -   [Parameters][86]
    -   [addAdditionalFieldsWithSort][87]
        -   [Parameters][88]
    -   [loadConfig][89]
    -   [saveConfig][90]
        -   [Parameters][91]
    -   [save][92]
    -   [comparator][93]
        -   [Parameters][94]
    -   [registerForm][95]
        -   [Parameters][96]
    -   [processAPI][97]
        -   [Parameters][98]
    -   [getDataCopy][99]
    -   [getConfig][100]
    -   [getForm][101]
    -   [setSortFunction][102]
        -   [Parameters][103]
-   [Logger][104]
    -   [setLogLevel][105]
        -   [Parameters][106]
    -   [log][107]
        -   [Parameters][108]
    -   [removeColors][109]
        -   [Parameters][110]
    -   [flog][111]
        -   [Parameters][112]
    -   [warn][113]
        -   [Parameters][114]
    -   [err][115]
        -   [Parameters][116]
    -   [verbose][117]
        -   [Parameters][118]
    -   [info][119]
        -   [Parameters][120]
    -   [debug][121]
        -   [Parameters][122]
    -   [getHistory][123]
-   [CoreAPI][124]
    -   [Parameters][125]
    -   [dispatchEvent][126]
        -   [Parameters][127]
    -   [unregisterEvent][128]
        -   [Parameters][129]
    -   [registerEvent][130]
        -   [Parameters][131]
    -   [cachePath][132]
-   [DashboardAPI][133]
    -   [Parameters][134]
    -   [registerTile][135]
        -   [Parameters][136]
    -   [unregisterTile][137]
        -   [Parameters][138]
    -   [Tile][139]
        -   [Parameters][140]
    -   [TileType][141]
-   [Tile][142]
    -   [Parameters][143]
    -   [get][144]
    -   [customize][145]
        -   [Parameters][146]
    -   [hash][147]
    -   [applyMode][148]
        -   [Parameters][149]
-   [Cleaner][150]
    -   [exportConstants][151]
        -   [Parameters][152]
    -   [cleanDbObject][153]
        -   [Parameters][154]
-   [Authentication][155]
    -   [Parameters][156]
    -   [clearExpiredTokens][157]
    -   [generateToken][158]
        -   [Parameters][159]
    -   [processAPI][160]
        -   [Parameters][161]
    -   [checkLocalIp][162]
        -   [Parameters][163]
    -   [processAuthentication][164]
        -   [Parameters][165]
-   [AuthenticationData][166]
    -   [Parameters][167]
    -   [authorized][168]
    -   [username][169]
    -   [level][170]
-   [DateUtils][171]
    -   [timestamp][172]
    -   [timestampMs][173]
    -   [dateToUTCTimestamp][174]
        -   [Parameters][175]
    -   [dateToTimestamp][176]
        -   [Parameters][177]
    -   [roundedTimestamp][178]
        -   [Parameters][179]
    -   [dateFormatted][180]
        -   [Parameters][181]
    -   [secondsElapsedSinceMidnight][182]
        -   [Parameters][183]
    -   [isHoliday][184]
        -   [Parameters][185]
    -   [relativeTime][186]
        -   [Parameters][187]
-   [DatabaseAPI][188]
    -   [Parameters][189]
    -   [addOptimization][190]
        -   [Parameters][191]
    -   [register][192]
        -   [Parameters][193]
    -   [dbHelper][194]
        -   [Parameters][195]
-   [DbHelper][196]
    -   [Parameters][197]
    -   [RequestBuilder][198]
    -   [Operators][199]
    -   [getFieldsForTable][200]
    -   [saveObject][201]
        -   [Parameters][202]
    -   [getObject][203]
        -   [Parameters][204]
    -   [getObjects][205]
        -   [Parameters][206]
    -   [getLastObject][207]
        -   [Parameters][208]
    -   [delObject][209]
        -   [Parameters][210]
    -   [delObjects][211]
        -   [Parameters][212]
-   [DbObject][213]
    -   [Parameters][214]
    -   [base][215]
    -   [save][216]
        -   [Parameters][217]
    -   [del][218]
        -   [Parameters][219]
-   [DbRequestBuilder][220]
    -   [Parameters][221]
    -   [removeLastComma][222]
        -   [Parameters][223]
    -   [escapeString][224]
        -   [Parameters][225]
    -   [getValueEncapsulated][226]
        -   [Parameters][227]
    -   [getMetaForField][228]
        -   [Parameters][229]
    -   [save][230]
        -   [Parameters][231]
    -   [get][232]
        -   [Parameters][233]
    -   [del][234]
        -   [Parameters][235]
    -   [selectOp][236]
        -   [Parameters][237]
    -   [optimizeIndex][238]
        -   [Parameters][239]
    -   [select][240]
        -   [Parameters][241]
    -   [insert][242]
        -   [Parameters][243]
    -   [update][244]
        -   [Parameters][245]
    -   [upsert][246]
        -   [Parameters][247]
    -   [remove][248]
    -   [values][249]
        -   [Parameters][250]
    -   [where][251]
        -   [Parameters][252]
    -   [complexWhere][253]
        -   [Parameters][254]
    -   [groupOp][255]
        -   [Parameters][256]
    -   [group][257]
        -   [Parameters][258]
    -   [order][259]
        -   [Parameters][260]
    -   [lim][261]
        -   [Parameters][262]
    -   [first][263]
        -   [Parameters][264]
    -   [cleanForSelect][265]
    -   [distinct][266]
    -   [cleanForDelete][267]
    -   [request][268]
-   [DbSchemaConverter][269]
    -   [tableName][270]
        -   [Parameters][271]
    -   [toSchema][272]
        -   [Parameters][273]
-   [Convert][274]
    -   [convertProperties][275]
        -   [Parameters][276]
-   [DeviceAPI][277]
    -   [Parameters][278]
    -   [getDevices][279]
    -   [switchDevice][280]
        -   [Parameters][281]
    -   [constants][282]
    -   [getDeviceStatus][283]
        -   [Parameters][284]
    -   [addForm][285]
        -   [Parameters][286]
    -   [registerSwitchDevice][287]
        -   [Parameters][288]
    -   [saveDevice][289]
        -   [Parameters][290]
    -   [getDeviceTypes][291]
        -   [Parameters][292]
    -   [getDeviceById][293]
        -   [Parameters][294]
    -   [switchDeviceWithDevice][295]
        -   [Parameters][296]
    -   [getDbHelper][297]
    -   [guessDeviceStatus][298]
        -   [Parameters][299]
-   [DeviceManager][300]
    -   [Parameters][301]
    -   [addForm][302]
        -   [Parameters][303]
    -   [registerSwitchDevice][304]
        -   [Parameters][305]
    -   [triggerScenario][306]
        -   [Parameters][307]
    -   [registerDeviceListForm][308]
    -   [registerDeviceTiles][309]
    -   [getDevices][310]
    -   [getDeviceStatus][311]
        -   [Parameters][312]
    -   [bestDeviceType][313]
        -   [Parameters][314]
    -   [registerDeviceTile][315]
        -   [Parameters][316]
    -   [getDeviceTypes][317]
        -   [Parameters][318]
    -   [getDeviceById][319]
        -   [Parameters][320]
    -   [switchDevice][321]
        -   [Parameters][322]
    -   [guessDeviceStatus][323]
        -   [Parameters][324]
    -   [switchDeviceWithDevice][325]
        -   [Parameters][326]
    -   [saveDevice][327]
        -   [Parameters][328]
    -   [switchAll][329]
        -   [Parameters][330]
    -   [getDbHelper][331]
    -   [processAPI][332]
        -   [Parameters][333]
-   [DeviceForm][334]
    -   [Parameters][335]
    -   [name][336]
    -   [excludeFromAll][337]
    -   [visible][338]
    -   [powerOutageRestore][339]
    -   [worksOnlyOnDayNight][340]
    -   [icon][341]
    -   [room][342]
    -   [status][343]
    -   [brightness][344]
    -   [color][345]
    -   [colorTemperature][346]
    -   [subDevices][347]
    -   [json][348]
        -   [Parameters][349]
-   [DevicesListForm][350]
    -   [Parameters][351]
    -   [identifier][352]
    -   [status][353]
    -   [keepParams][354]
    -   [brightness][355]
    -   [color][356]
    -   [colorTemperature][357]
    -   [updateBrightness][358]
    -   [updateTemperature][359]
    -   [updateColor][360]
    -   [json][361]
        -   [Parameters][362]
    -   [getDevicesName][363]
        -   [Parameters][364]
    -   [getDevicesId][365]
        -   [Parameters][366]
-   [DevicesListSimpleForm][367]
    -   [Parameters][368]
    -   [identifier][369]
    -   [json][370]
        -   [Parameters][371]
    -   [getDevicesName][372]
        -   [Parameters][373]
    -   [getDevicesId][374]
        -   [Parameters][375]
-   [DevicesListScenarioTriggerForm][376]
    -   [Parameters][377]
    -   [identifier][378]
    -   [status][379]
    -   [json][380]
        -   [Parameters][381]
    -   [getDevicesName][382]
        -   [Parameters][383]
    -   [getDevicesId][384]
        -   [Parameters][385]
-   [DevicesListScenarioForm][386]
    -   [Parameters][387]
    -   [turnOnAll][388]
    -   [turnOffAll][389]
    -   [devices][390]
    -   [triggerOnDevice][391]
    -   [json][392]
        -   [Parameters][393]
-   [Icons][394]
    -   [iconsSvg][395]
    -   [icons][396]
    -   [list][397]
-   [DeviceStatus][398]
    -   [Parameters][399]
    -   [getStatus][400]
    -   [getBrightness][401]
    -   [getColor][402]
    -   [getColorTemperature][403]
    -   [setStatus][404]
        -   [Parameters][405]
    -   [setBrightness][406]
        -   [Parameters][407]
    -   [setColor][408]
        -   [Parameters][409]
    -   [setColorTemperature][410]
        -   [Parameters][411]
    -   [tileFormat][412]
-   [DbDevice][413]
    -   [Parameters][414]
-   [identifier][415]
-   [identifier][416]
-   [status][417]
-   [brightness][418]
-   [color][419]
-   [temperature][420]
-   [EnvironmentAPI][421]
    -   [Parameters][422]
    -   [getCoordinates][423]
    -   [setDay][424]
    -   [setNight][425]
    -   [isNight][426]
    -   [registerDayNightNotifications][427]
        -   [Parameters][428]
    -   [unregisterDayNightNotifications][429]
        -   [Parameters][430]
    -   [getLocalAPIUrl][431]
    -   [getSmartiesId][432]
    -   [getFullSmartiesId][433]
    -   [getScannedIp][434]
    -   [getLocalIp][435]
    -   [constants][436]
-   [EnvironmentManager][437]
    -   [Parameters][438]
    -   [setTimezone][439]
        -   [Parameters][440]
    -   [registerDayNightNotifications][441]
        -   [Parameters][442]
    -   [unregisterDayNightNotifications][443]
        -   [Parameters][444]
    -   [registerTile][445]
    -   [getCoordinates][446]
    -   [getCountry][447]
    -   [getSeason][448]
        -   [Parameters][449]
    -   [dispatchDayNightChange][450]
    -   [setDay][451]
    -   [setNight][452]
    -   [isNight][453]
    -   [getLocalPort][454]
    -   [getLocalIp][455]
    -   [getMacAddress][456]
    -   [getLocalAPIUrl][457]
    -   [saveMainConfiguration][458]
        -   [Parameters][459]
    -   [processAPI][460]
        -   [Parameters][461]
    -   [updateCore][462]
    -   [isDefaultConfig][463]
    -   [getSmartiesId][464]
    -   [getFullSmartiesId][465]
    -   [registerIpScanForm][466]
    -   [startIpScan][467]
    -   [manageUptimeFile][468]
-   [EnvironmentForm][469]
    -   [Parameters][470]
    -   [day][471]
    -   [json][472]
        -   [Parameters][473]
-   [DayNightScenarioForm][474]
    -   [Parameters][475]
    -   [mode][476]
    -   [json][477]
        -   [Parameters][478]
-   [DayNightScenarioTriggerForm][479]
    -   [Parameters][480]
    -   [day][481]
    -   [night][482]
    -   [json][483]
        -   [Parameters][484]
-   [IpScanForm][485]
    -   [Parameters][486]
    -   [ip][487]
    -   [freetext][488]
    -   [freetextHidden][489]
    -   [json][490]
        -   [Parameters][491]
    -   [getValues][492]
        -   [Parameters][493]
    -   [getValuesWithoutFreetext][494]
        -   [Parameters][495]
    -   [getTitles][496]
        -   [Parameters][497]
-   [TimerWrapper][498]
    -   [setInterval][499]
        -   [Parameters][500]
    -   [clearInterval][501]
        -   [Parameters][502]
    -   [setTimeout][503]
        -   [Parameters][504]
    -   [clearTimeout][505]
        -   [Parameters][506]
    -   [setImmediate][507]
        -   [Parameters][508]
    -   [clearImmediate][509]
        -   [Parameters][510]
    -   [clearAll][511]
-   [GatewayAPI][512]
    -   [Parameters][513]
    -   [getDistantUrl][514]
    -   [getDistantApiUrl][515]
-   [InstallerAPI][516]
    -   [Parameters][517]
    -   [register][518]
        -   [Parameters][519]
    -   [executeCommand][520]
        -   [Parameters][521]
-   [IotAPI][522]
    -   [Parameters][523]
    -   [registerLib][524]
        -   [Parameters][525]
    -   [registerApp][526]
        -   [Parameters][527]
    -   [iotAppExists][528]
        -   [Parameters][529]
    -   [getVersion][530]
        -   [Parameters][531]
    -   [getIot][532]
        -   [Parameters][533]
    -   [build][534]
        -   [Parameters][535]
    -   [constants][536]
    -   [getIots][537]
        -   [Parameters][538]
    -   [isBuilding][539]
    -   [getWiringSchemaForLib][540]
        -   [Parameters][541]
    -   [addIngredientForReceipe][542]
        -   [Parameters][543]
    -   [setUpgradeUrl][544]
        -   [Parameters][545]
    -   [setVersion][546]
        -   [Parameters][547]
-   [MessageAPI][548]
    -   [Parameters][549]
    -   [sendMessage][550]
        -   [Parameters][551]
    -   [register][552]
        -   [Parameters][553]
    -   [unregister][554]
        -   [Parameters][555]
    -   [onMessageReceived][556]
        -   [Parameters][557]
    -   [getMessages][558]
        -   [Parameters][559]
-   [RadioAPI][560]
    -   [Parameters][561]
    -   [register][562]
        -   [Parameters][563]
    -   [unregister][564]
        -   [Parameters][565]
    -   [compareFormObject][566]
        -   [Parameters][567]
    -   [getLastReceivedRadioInformations][568]
        -   [Parameters][569]
    -   [refreshProtocols][570]
-   [ScenarioAPI][571]
    -   [Parameters][572]
    -   [registerSubform][573]
        -   [Parameters][574]
    -   [register][575]
        -   [Parameters][576]
    -   [registerWithInjection][577]
        -   [Parameters][578]
    -   [unregister][579]
        -   [Parameters][580]
    -   [triggerScenario][581]
        -   [Parameters][582]
    -   [getScenarios][583]
    -   [registerForScenarioChanges][584]
        -   [Parameters][585]
-   [SchedulerAPI][586]
    -   [Parameters][587]
    -   [register][588]
        -   [Parameters][589]
    -   [unregister][590]
        -   [Parameters][591]
    -   [schedule][592]
        -   [Parameters][593]
    -   [cancel][594]
        -   [Parameters][595]
    -   [constants][596]
-   [SchedulerService][597]
    -   [Parameters][598]
    -   [start][599]
    -   [stop][600]
    -   [register][601]
        -   [Parameters][602]
    -   [unregister][603]
        -   [Parameters][604]
    -   [schedule][605]
        -   [Parameters][606]
    -   [cancel][607]
        -   [Parameters][608]
    -   [timeEvent][609]
        -   [Parameters][610]
-   [Service][611]
    -   [Parameters][612]
    -   [start][613]
    -   [run][614]
        -   [Parameters][615]
    -   [threadCallback][616]
        -   [Parameters][617]
    -   [send][618]
        -   [Parameters][619]
    -   [startThreaded][620]
    -   [stopThreaded][621]
    -   [startExternal][622]
    -   [stopExternal][623]
    -   [stop][624]
    -   [restart][625]
    -   [status][626]
    -   [register][627]
        -   [Parameters][628]
    -   [unregister][629]
        -   [Parameters][630]
    -   [setThreadsManager][631]
        -   [Parameters][632]
    -   [setExternalTerminatedCommandCb][633]
        -   [Parameters][634]
-   [SchedulerDbObject][635]
    -   [Parameters][636]
-   [data][637]
-   [triggerDate][638]
-   [triggered][639]
-   [SensorAPI][640]
    -   [Parameters][641]
    -   [registerForm][642]
        -   [Parameters][643]
    -   [registerClass][644]
        -   [Parameters][645]
    -   [registerSensorEvent][646]
        -   [Parameters][647]
    -   [unregisterSensorEvent][648]
        -   [Parameters][649]
    -   [getSensors][650]
        -   [Parameters][651]
    -   [getValue][652]
        -   [Parameters][653]
    -   [getSensor][654]
        -   [Parameters][655]
    -   [iotAppPowered][656]
    -   [constants][657]
    -   [guessSensorValue][658]
        -   [Parameters][659]
-   [IotsListForm][660]
    -   [Parameters][661]
    -   [identifier][662]
    -   [json][663]
        -   [Parameters][664]
    -   [getIotsName][665]
        -   [Parameters][666]
    -   [getIotsId][667]
        -   [Parameters][668]
-   [FormObject][669]
    -   [Parameters][670]
    -   [json][671]
        -   [Parameters][672]
-   [id][673]
-   [SensorsManager][674]
    -   [Parameters][675]
    -   [pluginsLoaded][676]
        -   [Parameters][677]
    -   [initSensors][678]
    -   [scenarioTrigger][679]
    -   [initSensor][680]
        -   [Parameters][681]
    -   [registerSensorEvent][682]
        -   [Parameters][683]
    -   [getSensor][684]
        -   [Parameters][685]
    -   [unregisterSensorEvent][686]
        -   [Parameters][687]
    -   [getAllSensors][688]
        -   [Parameters][689]
    -   [onNewSensorValue][690]
        -   [Parameters][691]
    -   [guessSensorValue][692]
        -   [Parameters][693]
    -   [getValue][694]
        -   [Parameters][695]
    -   [processAPI][696]
        -   [Parameters][697]
    -   [statisticsWsResponse][698]
        -   [Parameters][699]
    -   [comparator][700]
        -   [Parameters][701]
    -   [getSensorConfiguration][702]
        -   [Parameters][703]
    -   [registerSensorsListForm][704]
-   [SensorsForm][705]
    -   [Parameters][706]
    -   [sensorId][707]
    -   [json][708]
        -   [Parameters][709]
    -   [getSensorIds][710]
        -   [Parameters][711]
    -   [getSensorNames][712]
        -   [Parameters][713]
-   [SensorsListForm][714]
    -   [Parameters][715]
    -   [identifier][716]
    -   [json][717]
        -   [Parameters][718]
    -   [getSensorsName][719]
        -   [Parameters][720]
    -   [getSensorsId][721]
        -   [Parameters][722]
-   [SensorsListScenarioForm][723]
    -   [Parameters][724]
    -   [sensors][725]
    -   [json][726]
        -   [Parameters][727]
-   [SensorScenarioForm][728]
    -   [Parameters][729]
    -   [sensor][730]
    -   [operator][731]
    -   [threshold][732]
    -   [json][733]
        -   [Parameters][734]
-   [PluginsManager][735]
    -   [Parameters][736]
    -   [init][737]
        -   [Parameters][738]
    -   [getPluginsFromDirectory][739]
        -   [Parameters][740]
    -   [checkPluginSanity][741]
        -   [Parameters][742]
    -   [initPlugin][743]
        -   [Parameters][744]
    -   [initPlugins][745]
        -   [Parameters][746]
    -   [registerPlugins][747]
        -   [Parameters][748]
    -   [load][749]
    -   [getPluginsByCategory][750]
        -   [Parameters][751]
    -   [getPluginByIdentifier][752]
        -   [Parameters][753]
    -   [isEnabled][754]
        -   [Parameters][755]
    -   [prepareToposortArray][756]
        -   [Parameters][757]
    -   [toposort][758]
        -   [Parameters][759]
    -   [topsortedArrayConverter][760]
        -   [Parameters][761]
    -   [getPluginConf][762]
        -   [Parameters][763]
    -   [changePluginStatus][764]
        -   [Parameters][765]
    -   [processAPI][766]
        -   [Parameters][767]
-   [PluginsAPI][768]
    -   [Parameters][769]
    -   [exportClass][770]
        -   [Parameters][771]
    -   [init][772]
    -   [registerInstance][773]
        -   [Parameters][774]
    -   [getPluginInstance][775]
        -   [Parameters][776]
    -   [constants][777]
    -   [getPluginsIdentifiersByCategory][778]
        -   [Parameters][779]
    -   [getIdentifier][780]
    -   [renewOAuthToken][781]
        -   [Parameters][782]
    -   [start][783]
    -   [stop][784]
-   [IotForm][785]
    -   [Parameters][786]
    -   [iotApp][787]
    -   [name][788]
    -   [json][789]
        -   [Parameters][790]
-   [ImageUtils][791]
    -   [sanitizeFormConfiguration][792]
        -   [Parameters][793]
    -   [resize][794]
        -   [Parameters][795]
    -   [blur][796]
        -   [Parameters][797]
    -   [rotate][798]
        -   [Parameters][799]
    -   [rotateb][800]
        -   [Parameters][801]
    -   [merge][802]
        -   [Parameters][803]
    -   [crop][804]
        -   [Parameters][805]
-   [FileLock][806]
    -   [Parameters][807]
    -   [lock][808]
        -   [Parameters][809]
    -   [isLocked][810]
        -   [Parameters][811]
    -   [unlock][812]
        -   [Parameters][813]
    -   [unlockAfterDelay][814]
        -   [Parameters][815]
-   [PluginConf][816]
    -   [Parameters][817]
    -   [json][818]
        -   [Parameters][819]
-   [ServicesManagerAPI][820]
    -   [Parameters][821]
    -   [add][822]
        -   [Parameters][823]
    -   [remove][824]
        -   [Parameters][825]
    -   [stop][826]
    -   [start][827]
    -   [getThreadsManager][828]
    -   [constants][829]
-   [ServicesManager][830]
    -   [Parameters][831]
    -   [isServiceRegistered][832]
        -   [Parameters][833]
    -   [add][834]
        -   [Parameters][835]
    -   [remove][836]
        -   [Parameters][837]
    -   [start][838]
    -   [stop][839]
    -   [restart][840]
    -   [getService][841]
        -   [Parameters][842]
-   [ThemeAPI][843]
    -   [Parameters][844]
    -   [getColors][845]
        -   [Parameters][846]
    -   [constants][847]
-   [ThemeManager][848]
    -   [Parameters][849]
    -   [checkColorFormat][850]
        -   [Parameters][851]
    -   [setThemeForUser][852]
        -   [Parameters][853]
    -   [getColors][854]
        -   [Parameters][855]
    -   [processAPI][856]
        -   [Parameters][857]
-   [TimeEventAPI][858]
    -   [Parameters][859]
    -   [register][860]
        -   [Parameters][861]
    -   [unregister][862]
        -   [Parameters][863]
    -   [constants][864]
-   [TimeEventService][865]
    -   [start][866]
    -   [stop][867]
    -   [hash][868]
        -   [Parameters][869]
    -   [elementForHash][870]
        -   [Parameters][871]
    -   [register][872]
        -   [Parameters][873]
    -   [unregister][874]
        -   [Parameters][875]
    -   [convertMode][876]
        -   [Parameters][877]
    -   [timeEvent][878]
        -   [Parameters][879]
-   [TranslateAPI][880]
    -   [Parameters][881]
    -   [load][882]
    -   [t][883]
        -   [Parameters][884]
-   [UserAPI][885]
    -   [Parameters][886]
    -   [addAdditionalFields][887]
        -   [Parameters][888]
    -   [getUsers][889]
    -   [allUsersAtHome][890]
    -   [nobodyAtHome][891]
    -   [somebodyAtHome][892]
    -   [registerHomeNotifications][893]
        -   [Parameters][894]
    -   [unregisterHomeNotifications][895]
        -   [Parameters][896]
-   [WebAPI][897]
    -   [Parameters][898]
    -   [register][899]
        -   [Parameters][900]
    -   [unregister][901]
        -   [Parameters][902]
    -   [Authentication][903]
    -   [APIResponse][904]
        -   [Parameters][905]
    -   [constants][906]
    -   [getToken][907]
        -   [Parameters][908]
    -   [getTokenWithIdentifier][909]
        -   [Parameters][910]
-   [APIResponse][911]
    -   [Parameters][912]
    -   [success][913]
    -   [response][914]
    -   [errorCode][915]
    -   [errorMessage][916]
-   [WebServices][917]
    -   [Parameters][918]
    -   [start][919]
    -   [startTunnelGateway][920]
        -   [Parameters][921]
    -   [stop][922]
    -   [registerInfos][923]
    -   [getRouteIdentifier][924]
        -   [Parameters][925]
    -   [processAPI][926]
        -   [Parameters][927]
    -   [register][928]
        -   [Parameters][929]
    -   [unregister][930]
        -   [Parameters][931]
    -   [registerAPI][932]
        -   [Parameters][933]
    -   [unregisterAPI][934]
        -   [Parameters][935]
    -   [manageResponse][936]
        -   [Parameters][937]
    -   [buildPromises][938]
        -   [Parameters][939]
    -   [runPromises][940]
        -   [Parameters][941]
    -   [sendAPIResponse][942]
        -   [Parameters][943]
    -   [getEndpointApi][944]
    -   [setAuthentication][945]
        -   [Parameters][946]
    -   [getToken][947]
        -   [Parameters][948]
    -   [getTokenWithIdentifier][949]
        -   [Parameters][950]
-   [TunnelNgrok][951]
    -   [Parameters][952]
    -   [start][953]
    -   [stop][954]
-   [Tunnel][955]
    -   [Parameters][956]
    -   [start][957]
    -   [stop][958]
    -   [ready][959]
        -   [Parameters][960]
-   [TunnelLocalTunnel][961]
    -   [Parameters][962]
    -   [start][963]
    -   [stop][964]
-   [TunnelLocalxpose][965]
    -   [Parameters][966]
    -   [start][967]
    -   [stop][968]
-   [GatewayManager][969]
    -   [Parameters][970]
    -   [getDistantUrl][971]
    -   [getDistantApiUrl][972]
    -   [getBaseUrl][973]
    -   [sandboxedRequest][974]
        -   [Parameters][975]
    -   [sandboxedRequestresponse][976]
        -   [Parameters][977]
    -   [transmit][978]
        -   [Parameters][979]
    -   [processAPI][980]
        -   [Parameters][981]
-   [APIRequest][982]
    -   [Parameters][983]
    -   [method][984]
    -   [ip][985]
    -   [route][986]
    -   [path][987]
    -   [action][988]
    -   [params][989]
    -   [data][990]
    -   [authenticationData][991]
    -   [addAuthenticationData][992]
        -   [Parameters][993]
-   [APIRegistration][994]
    -   [Parameters][995]
    -   [delegate][996]
    -   [method][997]
    -   [route][998]
    -   [authLevel][999]
    -   [isEqual][1000]
        -   [Parameters][1001]
    -   [getRouteBase][1002]

## AiAPI

Public API for ai

### Parameters

-   `identifier`  
-   `aiManager`  

### register

Register

#### Parameters

-   `tokenizer` **[Function][1003]** A tokenizer function. If not provided, default tokenizer. (optional, default `null`)

### learn

Learn data to ai engine

#### Parameters

-   `data` **([string][1004] \| [Array][1005])** The data
-   `classification` **[string][1004]** The classification

Returns **[Promise][1006]** The promise

### learnWithTime

Learn time data to ai engine

#### Parameters

-   `data` **[Array][1005]** The data
-   `classification` **[string][1004]** The classification

Returns **[Promise][1006]** The promise

### guess

Guess the classification

#### Parameters

-   `data` **([string][1004] \| [Array][1005])** The data

Returns **[Promise][1006]** The promise with the classification

### guessWithTime

Guess time data to ai engine

#### Parameters

-   `data` **[Array][1005]** The data
-   `timestamp` **[number][1007]** The desired timestamp

Returns **[Promise][1006]** The promise

## AlarmAPI

Public API for alarm

### Parameters

-   `alarmManager`  

### alarmStatus

Get alarm state

Returns **[boolean][1008]** True if alarm is enabled, false otherwise

### enableAlarm

Enable alarm

### disableAlarm

Disable alarm

## BackupAPI

Public API for backup

### Parameters

-   `backupManager`  

### alarmStatus

Get alarm state

Returns **[boolean][1008]** True if alarm is enabled, false otherwise

### backup

Start a backup

#### Parameters

-   `cb` **[Function][1003]** A callback as `(err, backupFilePath) => {}`
-   `saveConfig` **[boolean][1008]** Configuration should be saved (optional, default `true`)
-   `saveDb` **[boolean][1008]** Dabatabase should be saved (optional, default `true`)
-   `saveCameraHistory` **[boolean][1008]** Cameras historyshould be saved (optional, default `false`)

### restore

Restore a backup local file

#### Parameters

-   `backupFilePath` **[string][1004]** A backup zip local file
-   `cb` **[Function][1003]** A callback `(err) => {}`

### cleanBackupFile

Clean a backup file

#### Parameters

-   `backupFilePath` **[string][1004]** Backup file path

### addBackupFolder

Add a backup folder

#### Parameters

-   `path` **[string][1004]** A folder path

### addBackupFile

Add a backup file path

#### Parameters

-   `path` **[string][1004]** A file path

## BotEngineAPI

Public API for bot engine

### Parameters

-   `botEngine`  

### playSound

Play a sound

#### Parameters

-   `soundPath` **[string][1004]** The sound's file path

### textToSpeech

Speech some text

#### Parameters

-   `text` **[string][1004]** A text

### registerBotAction

Register a bot action

#### Parameters

-   `actionKey` **[string][1004]** The action key
-   `cb` **[Function][1003]** The callback to implement : `(action, value, type, confidence, sender, cb) => {cb("Job done !");}`

### unregisterBotAction

Unregister a bot action

#### Parameters

-   `actionKey` **[string][1004]** The action key

### stringSimilarity

Return library to compare strings

Returns **StringSimilarity** The string similarity library

### switchVocalCommands

Enable or disable voice commands. Can throw an error.

#### Parameters

-   `enable` **[boolean][1008]** `true` to enable voice command, `false` otherwise. If null, switch status automatically.

## CameraAPI

Public API for camera

### Parameters

-   `formManager`  
-   `plugin`  
-   `camerasManager`  

### registerForm

Register a camera form

#### Parameters

-   `formClass` **Class** A form annotation's implemented class
-   `inject` **...[object][1009]** The injected objects

### registerClass

Register a camera class

#### Parameters

-   `c` **Class** A camera extended class

### getCameras

Get all cameras

Returns **[object][1009]** On object with id:name

### getImage

Get a picture

#### Parameters

-   `id` **[number][1007]** Camera identifier
-   `cb` **[Function][1003]** A callback with error, image buffer and mime type. Example : `(err, data, mime) => {}`
-   `timestamp` **[number][1007]** The timestamp of the picture. If `null`, live snapshot. (optional, default `null`)

### record

Record a video session for a specific camera

#### Parameters

-   `id` **[number][1007]** The camera identifier
-   `cb` **[Function][1003]** A callback `(err, generatedFilepath, key, link) => {}`
-   `timer` **[number][1007]** Duration of capture in seconds (optional, default `60`)
-   `sendMessage` **[boolean][1008]** Send message to users when record is done (optional, default `true`)

### getAvailableDetectedObjects

Get available detected objects list for computer vision

Returns **[Array][1005]** The detected objects

### registerCameraEvent

Register to camera events with computer vision

#### Parameters

-   `cameraId` **[string][1004]** Camera identifier. `*` if all camera needed (optional, default `"*"`)
-   `detectedObject` **([string][1004] \| [Array][1005])** Detected objects on computer vision (optional, default `"*"`)
-   `key` **[string][1004]** The register key
-   `cb` **[Function][1003]** A callback `(cameraId, detectedObject, confidence, cvData, img, drawedImg) => {}`

### unregisterCameraEvent

Unregister to camera events with computer vision

#### Parameters

-   `key` **[string][1004]** The register key

### saveConfiguration

Save camera configuration

#### Parameters

-   `cameraConfiguration` **[object][1009]** The camera configuration

### getCamera

Get the camera Object

#### Parameters

-   `id` **[number][1007]** Camera identifier

Returns **Camera** A camera extended object. Returns null if nothing found.

## ConfigurationAPI

Public API for configuration

### Parameters

-   `confManager`  
-   `formManager`  
-   `webServices`  
-   `name`  
-   `category`  
-   `plugin`  

### register

Register a form

#### Parameters

-   `formClass` **Class** A form annotation's implemented class
-   `inject` **...[object][1009]** The injected objects

### registerSubform

Register a sub form

#### Parameters

-   `formClass` **Class** A form annotation's implemented class
-   `inject` **...[object][1009]** The injected objects

### getConfiguration

Returns the configuration

Returns **[object][1009]** Configuration object

### getForm

Return the formatted form object

Returns **[object][1009]** Formatted form object

### setUpdateCb

Set the update callback. Called back when delete or save action is done.

#### Parameters

-   `cb` **[Function][1003]** A callback with data as parameter, e.g. `(data, username) => {}`

### loadData

Load data manually from file (Array or object)

#### Parameters

-   `classType` **class** The object class. This class MUST implement a json() method to process JSON to Object mapping
-   `disableClassMapping` **[boolean][1008]** Disable class mapping (optional, default `false`)

Returns **([Array][1005] \| [object][1009])** An array of objects (instance of classType), or an object

### saveData

Save data manually for a specific key. Can throw error.

#### Parameters

-   `data` **[object][1009]** A JS object

### getConfManager

Returns the conf manager

Returns **ConfManager** The conf manager

### stop

Stop plugin stuff

## FormConfiguration

This class allows to manage form configuration

### Parameters

-   `confManager` **ConfManager** A configuration manager
-   `formManager` **FormManager** A form manager
-   `webServices` **[WebServices][1010]** Web services instance
-   `name` **[string][1004]** A name or identifier
-   `list` **[boolean][1008]** True if form configuration manage a list, false otherwise (optional, default `false`)
-   `formClass` **Class** A form annotation's implemented class. Can be called later through `register` method (optional, default `null`)
-   `inject` **...[object][1009]** Parameters injection on static methods

### unregister

Unregister web services

### setUpdateCb

Set the update callback. Called back when delete or save action is done.

#### Parameters

-   `cb` **[Function][1003]** A callback with data as parameter, e.g. `(data, username) => {}`

### addAdditionalFields

Add additional fields
Deprecated - Use addAdditionalFieldsWithSort

#### Parameters

-   `form` **Class** A form
-   `title` **[string][1004]** The form title
-   `isList` **[boolean][1008]** `true` if this is a list of objects, otherwise `false`
-   `inject` **...[object][1009]** Parameters injection on static methods

### addAdditionalFieldsWithSort

Add additional fields

#### Parameters

-   `form` **Class** A form
-   `title` **[string][1004]** The form title
-   `isList` **[boolean][1008]** `true` if this is a list of objects, otherwise `false`
-   `sort` **[number][1007]** Sort (optional, default `null`)
-   `inject` **...[object][1009]** Parameters injection on static methods

### loadConfig

Load configuration (data from file)

### saveConfig

Save configuration

#### Parameters

-   `data` **[object][1009]** Object data

### save

Save data

### comparator

List comparator for ConfManager

#### Parameters

-   `obj1` **[object][1009]** An first object
-   `obj2` **[object][1009]** A second object

Returns **[boolean][1008]** True if equals, false otherwise

### registerForm

Register a form shortcut

#### Parameters

-   `formClass` **Class** A form annotation's implemented class
-   `inject` **...[object][1009]** The inject objects

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

### getDataCopy

Returns a copy of the data object

Returns **([Array][1005] \| [object][1009])** A copy of data

### getConfig

Return configuration

Returns **[object][1009]** A configuration

### getForm

Return the form

Returns **[object][1009]** A formatted form object

### setSortFunction

Set the sort function

#### Parameters

-   `f` **[Function][1003]** The function

## Logger

This class provides static methods to log into a file.

### setLogLevel

Set the log level

#### Parameters

-   `level` **[number][1007]** Log level between 0 and 5 (optional, default `3`)

### log

Log to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `level` **int** Log level between 0 to 5 (optional, default `3`)
-   `params` **\[[string][1004]]** Some parameters

### removeColors

Remove console colors from a string

#### Parameters

-   `entry` **[string][1004]** A text entry

Returns **[string][1004]** Output string without colors

### flog

Log a log to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### warn

Log a warning to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### err

Log an error to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### verbose

Log a verbose message to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### info

Log an information to a file

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### debug

Log a debug message to a file, with stacktrace

#### Parameters

-   `message` **[string][1004]** A log message
-   `params` **\[[string][1004]]** Some parameters

### getHistory

Get the log history

Returns **[Array][1005]** An array of logs

## CoreAPI

Public API for core

### Parameters

-   `eventBus`  
-   `appConfiguration`  

### dispatchEvent

Dispatch an event through all registered modules

#### Parameters

-   `name` **[string][1004]** An event name
-   `data` **[object][1009]** Some data (optional, default `null`)

### unregisterEvent

Unregister to a specific event

#### Parameters

-   `name` **[string][1004]** The event's name
-   `cb` **[Function][1003]** A callback \`(data) => {}``

### registerEvent

Register to a specific event

#### Parameters

-   `name` **[string][1004]** The event's name
-   `cb` **[Function][1003]** A callback \`(data) => {}``

### cachePath

Get the cache path

Returns **[string][1004]** A cache path

## DashboardAPI

Public API for dashboard

### Parameters

-   `dashboardManager`  

### registerTile

Register a tile

#### Parameters

-   `tile` **[Tile][1012]** A tile object

### unregisterTile

Unregister a tile

#### Parameters

-   `identifier` **[string][1004]** A tile identifier

### Tile

Constructor

#### Parameters

-   `identifier` **[string][1004]** The tile identifier (must be unique)
-   `type` **[string][1004]** The tile's model (or type). Models cosntants can be retrieved through `TileType()` (optional, default `TILE_INFO_ONE_TEXT`)
-   `icon` **[string][1004]** The icon. Use `api.exported.Icons.class.list()` to retrieve icon list. (optional, default `null`)
-   `subIcon` **[string][1004]** The subicon. Use `api.exported.Icons.class.list()` to retrieve icon list. (optional, default `null`)
-   `text` **[string][1004]** The text (optional, default `null`)
-   `subText` **[string][1004]** The sub text (optional, default `null`)
-   `picture` **[string][1004]** A picture in base64 format (optional, default `null`)
-   `pictures` **[Array][1005]** A list of Base64 pictures (optional, default `null`)
-   `status` **[number][1007]** A status (0, 1, ...) (optional, default `0`)
-   `order` **[number][1007]** A number that represents the place of the tile. 1 is on top, 999999 is on bottom :) (optional, default `1`)
-   `action` **[string][1004]** The action (route endpoint without `:`) (optional, default `null`)
-   `object` **[object][1009]** An object (optional, default `null`)
-   `authentication` **[number][1007]** The authentication level (optional, default `api.webAPI.Authentication().AUTH_USAGE_LEVEL`)

Returns **[Tile][1012]** A tile

### TileType

Expose a list of tile's type : `TILE_INFO_ONE_TEXT`, `TILE_INFO_TWO_TEXT`, `TILE_INFO_TWO_ICONS`, `TILE_ACTION_ONE_ICON`, `TILE_PICTURE_TEXT`, `TILE_PICTURES`, `TILE_GENERIC_ACTION` or `TILE_GENERIC_ACTION_STATUS`

Returns **[object][1009]** Constants

## Tile

This class describes tiles

### Parameters

-   `themeManager` **[ThemeManager][1013]** The theme manager
-   `identifier` **[string][1004]** The tile identifier (must be unique)
-   `type` **[string][1004]** The tile's model (or type). Check enum. (optional, default `TILE_INFO_ONE_TEXT`)
-   `icon` **[string][1004]** The icon (optional, default `null`)
-   `subIcon` **[string][1004]** The subicon (optional, default `null`)
-   `text` **[string][1004]** The text (optional, default `null`)
-   `subText` **[string][1004]** The sub text (optional, default `null`)
-   `picture` **[string][1004]** A picture in base64 format (optional, default `null`)
-   `pictures` **[Array][1005]** A list of Base64 pictures (optional, default `null`)
-   `status` **[number][1007]** A status (0, 1, ...) (optional, default `0`)
-   `order` **[number][1007]** A number that represents the place of the tile. 1 is on top, 999999 is on bottom :) (optional, default `1`)
-   `action` **[string][1004]** The action (route endpoint without `:`) (optional, default `null`)
-   `object` **[object][1009]** An object (optional, default `null`)
-   `authentication` **[number][1007]** The authentication level (optional, default `Authentication.AUTH_USAGE_LEVEL`)

### get

Get the tile without useless informations

Returns **[object][1009]** A tile ready to be serialized

### customize

Customize theme

#### Parameters

-   `username` **[string][1004]** A username (optional, default `null`)

### hash

Get the hash value of the tile

Returns **[string][1004]** The object hash

### applyMode

Apply light mode : remove image, ...

#### Parameters

-   `username` **[string][1004]** A username (optional, default `null`)
-   `lightMode` **[boolean][1008]** Light mode (optional, default `false`)

## Cleaner

Utility class for cleaning stuff

### exportConstants

Clean an exported class by removing the `class` property

#### Parameters

-   `exported` **[object][1009]** An exported object with `class` property

Returns **[object][1009]** A clean object

### cleanDbObject

Clean a DbObject by removing DbHelper

#### Parameters

-   `dbObject` **[DbObject][1014]** A database object

Returns **[object][1009]** A cleaned object

## Authentication

This class manage authentication for Web Services

### Parameters

-   `webService` **WebService** The web service instance
-   `userManager` **UserManager** User manager
-   `environmentManager` **[EnvironmentManager][1015]** Environment manager

### clearExpiredTokens

Clear expired tokens

### generateToken

Generates a token

#### Parameters

-   `username` **[string][1004]** The username (optional, default `null`)
-   `serviceIdentifier` **[string][1004]** The service identifier
-   `expirationTime` **int** Expiration time (optional, default `0`)

Returns **[string][1004]** The token

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

### checkLocalIp

Check if an ip is on the same network

#### Parameters

-   `ipSource` **[string][1004]** The source ip

Returns **[boolean][1008]** `true` if the ip is on the same network, `false` otherwise

### processAuthentication

Process authentication

#### Parameters

-   `apiRequest` **[APIRequest][1011]** The api request
-   `resolve` **[Function][1003]** The resolve function
-   `reject` **[Function][1003]** The reject function

## AuthenticationData

This class encapsulate authentication data

### Parameters

-   `authorized` **[boolean][1008]** True if authorized, else false (optional, default `false`)
-   `username` **[string][1004]** Username (optional, default `null`)
-   `level` **[number][1007]** Authorization level (optional, default `-1`)

### authorized

Authorized

Type: bool

### username

Username

Type: [string][1004]

### level

App access level

Type: int

## DateUtils

Utility class for dates

### timestamp

Return the current timestamp

Returns **[number][1007]** The current timestamp in seconds

### timestampMs

Return the current timestamp

Returns **[number][1007]** The current timestamp

### dateToUTCTimestamp

Convert a string date time zoned to UTC timestamp

#### Parameters

-   `date` **[string][1004]** The GMT date

Returns **[number][1007]** The UTC timestamp

### dateToTimestamp

Convert a string date time zoned to timestamp

#### Parameters

-   `date` **[string][1004]** The GMT date

Returns **[number][1007]** The GMT timestamp

### roundedTimestamp

Round the timestamp to the mode

#### Parameters

-   `timestamp` **[number][1007]** A timestamp
-   `mode` **[number][1007]** The mode (contant : `DateUtils.ROUND_TIMESTAMP_MINUTE`, `DateUtils.ROUND_TIMESTAMP_HOUR`, `DateUtils.ROUND_TIMESTAMP_DAY`, `DateUtils.ROUND_TIMESTAMP_MONTH`)

Returns **[number][1007]** Rounded timestamp

### dateFormatted

Format the current date with parameter

#### Parameters

-   `format` **[string][1004]** A format (Y for year, m for month, d for day, H for hour, i for minutes, s for seconds)
-   `timestamp` **[number][1007]** A timestamp. If not provided, use current timestamp. (optional, default `null`)

Returns **[string][1004]** The formatted date

### secondsElapsedSinceMidnight

Return the number of seconds elapsed since midnight in UTC format

#### Parameters

-   `timestamp` **[number][1007]** A timestamp in seconds

Returns **[number][1007]** A number of seconds elapsed

### isHoliday

Return the number of seconds elapsed since midnight in UTC format

#### Parameters

-   `country` **[string][1004]** The ISO-3166-3 country code
-   `timestamp` **[number][1007]** A timestamp in seconds. If null current timestamp provided. (optional, default `null`)

Returns **([boolean][1008] \| [object][1009])** The result

### relativeTime

Return the number of seconds elapsed since midnight in UTC format

#### Parameters

-   `timestamp` **[number][1007]** A timestamp in seconds

Returns **[string][1004]** The relative date, e.g. "5 minutes ago"

## DatabaseAPI

Public API for database

### Parameters

-   `dbManager`  
-   `previousVersion`  

### addOptimization

Add index optimizations. Should be called before register call.

#### Parameters

-   `dbObjectClass` **[DbObject][1014]** A class extending DbObject
-   `name` **[string][1004]** An index name
-   `fields` **...[string][1004]** A list of fields to optimize

### register

Register database object and create associated schema (annotations)

#### Parameters

-   `dbObjectClass` **[DbObject][1014]** A class extending DbObject
-   `cb` **[Function][1003]** A callback with an error in parameter : `(err) => {}` (optional, default `null`)

### dbHelper

Creates a new DbHelper object.
Call the `schema(...)` method before calling this one.
The DbHelper object allows you to create, update, delete or execute queries on the database

#### Parameters

-   `dbObjectClass` **[DbObject][1014]** A database object extended class with annotations. Please read documentation

Returns **[DbHelper][1016]** A DbHelper object

## DbHelper

Public API for database manager

### Parameters

-   `dbManager` **DbManager** A DbManager instance
-   `schema` **[object][1009]** A database schema
-   `table` **[string][1004]** A table
-   `dbObjectClass` **Class** A DbObject extended class. If not provided, a classic DbObject will be provided (optional, default `null`)

### RequestBuilder

Shortcut to create a DbRequestBuilder

Returns **[DbRequestBuilder][1017]** A request builder

### Operators

Shortcut to access to DbRequestBuilder constants
Here is the list of constants :
EQ
NEQ
LT
GT
LTE
GTE
LIKE
NLIKE
ASC
DESC
AVG
SUM
MIN
MAX
COUNT
FIELD_ID
FIELD_TIMESTAMP

Returns **[object][1009]** A list of constants

### getFieldsForTable

Return the list of fields for a shema

Returns **[Array][1005]** A list of fields

### saveObject

Save an object in database (upsert mode)

#### Parameters

-   `object` **[object][1009]** An object macthing schema
-   `cb` **[Function][1003]** Callback of type `(error) => {}`. Error is null if no errors (optional, default `null`)

### getObject

Get an object from database

#### Parameters

-   `object` **[object][1009]** An object macthing schema, with values inside. Example `getObject("myTable", schema, {id:152}, (err, object) => {console.log(object);})`
-   `cb` **[Function][1003]** Callback of type `(error, object) => {}`. Error is null if no errors (optional, default `null`)

### getObjects

Get an objects from database

#### Parameters

-   `request` **[DbRequestBuilder][1017]** A request with the desired parameters. For example `RequestBuilder("history", schema).where("value", GT, 32)`
-   `cb` **[Function][1003]** Callback of type `(error, objects) => {}`. Error is null if no errors (optional, default `null`)

### getLastObject

Get the last object from database (by timestamp)

#### Parameters

-   `cb` **[Function][1003]** Callback of type `(error, object) => {}`. Error is null if no errors (optional, default `null`)

### delObject

Delete an object from database

#### Parameters

-   `object` **[object][1009]** An object macthing schema, with values inside. Example `getObject("myTable", schema, {id:152}, (err) => {})`
-   `cb` **[Function][1003]** Callback of type `(error) => {}`. Error is null if no errors (optional, default `null`)

### delObjects

Delete objects from database

#### Parameters

-   `request` **[DbRequestBuilder][1017]** A request with the desired parameters. For example `RequestBuilder("history", schema).where("value", GT, 32)`
-   `cb` **[Function][1003]** Callback of type `(error) => {}`. Error is null if no errors (optional, default `null`)

## DbObject

Database objects
This class must be extended

### Parameters

-   `dbHelper` **[DbHelper][1016]** A database helper object (optional, default `null`)
-   `values` **...any** A list of values

### base

Creates an object cloned with only field properties

Returns **[object][1009]** A cloned object without any methods

### save

Save the database object

#### Parameters

-   `cb` **[Function][1003]** Callback of type `(error) => {}`. Error is null if no errors (optional, default `null`)

### del

Delete the database object

#### Parameters

-   `cb` **[Function][1003]** Callback of type `(error) => {}`. Error is null if no errors (optional, default `null`)

## DbRequestBuilder

DBRequest builder class
This class generates a SQL query from parameters, but does NOT check that SQL query is valid. Does not throw any error / exception.

### Parameters

-   `table` **[string][1004]** Database table
-   `schema` **[object][1009]** A JSON Database schema

### removeLastComma

Remove last comma of parameter

#### Parameters

-   `sql` **[string][1004]** A SQL request

Returns **[string][1004]** Result

### escapeString

Escape SQL special characters

#### Parameters

-   `val` **[string][1004]** Input

Returns **[string][1004]** Escaped output

### getValueEncapsulated

Encapsulate data. For example, if field is a string &lt;&lt; L'envie >>, returns &lt;&lt; 'L''envie' >> depending on field type

#### Parameters

-   `value` **any** A value
-   `meta` **[object][1009]** The field meta data from schema

Returns **[string][1004]** The encapsulated value

### getMetaForField

Internal, get meta data from shcema for a specific field

#### Parameters

-   `field` **[string][1004]** A field

Returns **[object][1009]** Metadata for field, null if nothing match

### save

Create a request for saving an object

#### Parameters

-   `obj` **[object][1009]** An object with some values inside in relation with the database schema

Returns **[DbRequestBuilder][1017]** The instance

### get

Create a request with the exact object content and returns from database
The execution of the request will return an object matching the object contents

#### Parameters

-   `obj` **[object][1009]** An object with some values inside in relation with the database schema

Returns **[DbRequestBuilder][1017]** The instance

### del

Create a request with the exact object content
The execution of the request will delete an object matching the object contents

#### Parameters

-   `obj` **[object][1009]** An object with some values inside in relation with the database schema

Returns **[DbRequestBuilder][1017]** The instance

### selectOp

Add select operator closure
Used when need to aggregate some data from database. In the obejcts results, a property alias will be added
Given example : `.selectOp(COUNT, "id", "total")`
Request example : `SELECT operator(field) as alias`

#### Parameters

-   `operator` **[string][1004]** An operator, (exported constants) : `AVG`, `SUM`, `MIN`, `MAX` or `COUNT`
-   `field` **[string][1004]** The field to aggregate
-   `alias` **[string][1004]** An alias for request result. If not provided, will be set into field name (optional, default `null`)

Returns **[DbRequestBuilder][1017]** The instance

### optimizeIndex

Add index optimizations

#### Parameters

-   `name` **[string][1004]** The optimization name
-   `fields` **...[string][1004]** A list of fields to optimize

Returns **[DbRequestBuilder][1017]** The instance

### select

Add select closure
If no parameters passed, will provide all fields (`*`) request
Given example : `.select("id", "timestamp") or .select()`

#### Parameters

-   `fields` **...[string][1004]** A list of fields, or nothing if need all fields

Returns **[DbRequestBuilder][1017]** The instance

### insert

Add insert closure
If this method is called, you need to call also `.values(...)` on this object
If no parameters passed, will provide all fields from schema request
Given example : `.insert("id", "timestamp") or .insert()`

#### Parameters

-   `fields` **...[string][1004]** Aa list of fields, or nothing if need all fields

Returns **[DbRequestBuilder][1017]** The instance

### update

Add update closure
If this method is called, you need to call also `.values(...)` on this object
If no parameters passed, will provide all fields from schema request
Given example : `.update("timestamp") or .update()`

#### Parameters

-   `fields` **...[string][1004]** Aa list of fields, or nothing if need all fields

Returns **[DbRequestBuilder][1017]** The instance

### upsert

Add upsert (update or insert) closure
If this method is called, you need to call also `.values(...)` on this object
If no parameters passed, will provide all fields from schema request
The update is processed if there is the `id` field into fields list.
Given example : `.upsert("timestamp") or .upsert()`

#### Parameters

-   `fields` **...[string][1004]** Aa list of fields, or nothing if need all fields

Returns **[DbRequestBuilder][1017]** The instance

### remove

Add delete closure
Usually needs to be combinated with `.where()`

Returns **[DbRequestBuilder][1017]** The instance

### values

Add values in combination with `insert`, `update` or `upsert` closures
/!\\ Remember that the number of values in arguments should be exactly the same, in the same order than fields passed in `insert`, `update` or `upsert`
Given example : `.upsert("myText").values("foobar").where("id", EQ, 5)`

#### Parameters

-   `values` **...[string][1004]** A list of values

Returns **[DbRequestBuilder][1017]** The instance

### where

Add a where closure
Used when need to aggregate some data from database. In the obejcts results, a property alias will be added
Default concatenation will be `AND`, to use `OR, try`.complexWhere()`method
Given example :`.select().where("id", EQ, 5)\`

#### Parameters

-   `field` **[string][1004]** The field to aggregate
-   `operator` **[string][1004]** An operator, (exported constants) : `EQ`, `NEQ`, `LT`, `GT`, `LTE`, `GTE`, `LIKE` or `NLIKE`
-   `value` **any?** A value

Returns **[DbRequestBuilder][1017]** The instance

### complexWhere

Add a complex WHERE clause

#### Parameters

-   `clause` **[string][1004]** A WHERE SQL query part

Returns **[DbRequestBuilder][1017]** The instance

### groupOp

Add a group by operation closure
Given example : `.select().where("id", EQ, 5).groupOp(AVG, "value")`

#### Parameters

-   `operator` **[string][1004]** An operator can be (exported constants) : `AVG`, `SUM`, `MIN`, `MAX` or `COUNT`
-   `field` **[string][1004]** A field

Returns **[DbRequestBuilder][1017]** The instance

### group

Add a group by closure
Given example : `.select().where("id", EQ, 5).groupOp("value")`

#### Parameters

-   `fields` **...[string][1004]** A  list of fields

Returns **[DbRequestBuilder][1017]** The instance

### order

Add a order by closure
Given example : `.select().order(DESC, "id")`

#### Parameters

-   `operator` **[string][1004]** An operator can be (exported constants) : `ASC` or `DESC`
-   `field` **[string][1004]** A field

Returns **[DbRequestBuilder][1017]** The instance

### lim

Add a limit closure
Will retrieve results from `start` to `start + length`

#### Parameters

-   `start` **int** The start index
-   `length` **int** The number of database items to retrieve

Returns **[DbRequestBuilder][1017]** The instance

### first

Will return the first `length` results

#### Parameters

-   `length` **int** The number of database items to retrieve from the start (optional, default `1`)

Returns **[DbRequestBuilder][1017]** The instance

### cleanForSelect

Internal. Clean query for select
Used when a query is passed as parameter before triggering database execution.
For example, passing some where filters

Returns **[DbRequestBuilder][1017]** The instance

### distinct

De-duplicate values

Returns **[DbRequestBuilder][1017]** The instance

### cleanForDelete

Internal. Clean query for delete
Used when a query is passed as parameter before triggering database execution.
For example, passing some where filters

Returns **[DbRequestBuilder][1017]** The instance

### request

Generate SQL request

Returns **[string][1004]** The SQL query

## DbSchemaConverter

Convert a DbObject with annotations into a JSON schema (adapter)

### tableName

Get a table name from a DbObject extended class

#### Parameters

-   `dbObjectClass` **[DbObject][1014]** A class extending DbObject

Returns **[string][1004]** The table name

### toSchema

Convert DbObject annotations to db schema

#### Parameters

-   `dbObjectClass` **[DbObject][1014]** A class extending DbObject

Returns **[object][1009]** A database schema

## Convert

Utility class for conversion

### convertProperties

Convert key / values object into a single one. Example `[{key:"Foo", value:"Bar"}]` will become `{Foo:"Bar"}`

#### Parameters

-   `inputObject` **[object][1009]** An input object

Returns **[object][1009]** An output object

## DeviceAPI

Public API for devices

### Parameters

-   `deviceManager`  

### getDevices

Return the list of devices

Returns **[Array][1005]** The list of devices

### switchDevice

Switch a device status

#### Parameters

-   `id` **[number][1007]** A device identifier
-   `status` **[string][1004]** A status  (`on`, `off` or int status) (optional, default `null`)
-   `brightness` **int** Brightness (between 0 and 1) (optional, default `0`)
-   `color` **[string][1004]** Color (hex color) (optional, default `FFFFFF`)
-   `colorTemperature` **int** Color temperature (between 0 and 1) (optional, default `0`)

### constants

Expose a list of constants (status)

Returns **[object][1009]** Constants

### getDeviceStatus

Return a status of a device

#### Parameters

-   `id` **[number][1007]** A device identifier

Returns **[boolean][1008]** Status of the device

### addForm

Add a form device part

#### Parameters

-   `key` **[string][1004]** A key
-   `form` **Form** A form
-   `title` **[string][1004]** A title
-   `isList` **[boolean][1008]** `true` if this is a list of subforms, `false` otherwise (optional, default `false`)
-   `inject` **...[object][1009]** The injected objects

### registerSwitchDevice

Register a switch device function
The method `addForm` should be called before

#### Parameters

-   `key` **[string][1004]** A key, the same as set in `addForm`
-   `cb` **[Function][1003]** The callback when a device switches `(device, formData, deviceStatus) => {}`. Please note that this callback can return a DeviceStatus object to save state. You can modify and return the status as parameter.
-   `type` **[string][1004]** The device type, constant can be `DEVICE_TYPE_LIGHT`, `DEVICE_TYPE_LIGHT_DIMMABLE`, `DEVICE_TYPE_LIGHT_DIMMABLE_COLOR`, `DEVICE_TYPE_SHUTTER`, `DEVICE_TYPE_GATE`, `DEVICE_TYPE_LOCK` (optional, default `DEVICE_TYPE_LIGHT_DIMMABLE_COLOR`)
-   `comparator` **[Function][1003]** Comparator function to enable best device type. By default, the system checks if there is one element in array or if the subform is null. If this property is set, it will use the comparator. E.g. : `(subFormData) => {if (subFormData.enable) {return true;} else {return false;}}` (optional, default `null`)

### saveDevice

Save a device

#### Parameters

-   `device` **[object][1009]** A device

### getDeviceTypes

Returns the supported modes for a specific device (e.g. light, dimmable, color, ...)

#### Parameters

-   `device` **[object][1009]** A device

Returns **\[[string][1004]]** The list of supported modes

### getDeviceById

Returns a device from an identifier

#### Parameters

-   `id` **[string][1004]** An identifier

Returns **[object][1009]** A device

### switchDeviceWithDevice

Switch device with a device object

#### Parameters

-   `device` **[object][1009]** A device

### getDbHelper

Get db helper

Returns **[DbHelper][1016]** The device DbHelper object

### guessDeviceStatus

Guess a device status and brightness with machine learning

#### Parameters

-   `timestamp` **[number][1007]** The projected timestamp
-   `identifier` **[string][1004]** A device identifier. If this parameter is set, there is no need to set `room` and `name` (optional, default `null`)
-   `status` **[string][1004]** A status (INT_STATUS_ON or INT_STATUS_OFF) (optional, default `null`)
-   `room` **[string][1004]** A room (optional, default `null`)
-   `name` **[string][1004]** A sensor name (optional, default `null`)
-   `cb` **[Function][1003]** A callback. If not provided, a promise will be returned. Example : `(err, status, brightness) => {}` (optional, default `null`)

Returns **([Promise][1006] | null)** If cb is not provided, a promise will be returned.

## DeviceManager

This class allows to manage devices

### Parameters

-   `confManager` **ConfManager** A configuration manager
-   `formManager` **FormManager** A form manager
-   `webServices` **[WebServices][1010]** The web services
-   `radioManager` **RadioManager** The radio manager
-   `dashboardManager` **DashboardManager** The dashboard manager
-   `scenarioManager` **ScenarioManager** The scenario manager
-   `translateManager` **TranslateManager** The translate manager
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `botEngine` **BotEngine** The bot engine
-   `sensorsManager` **[SensorsManager][1018]** The sensrsManager
-   `eventBus` **EventEmitter** The global event bus
-   `dbManager` **DbManager** The database manager
-   `aiManager` **AiManager** The ai manager
-   `timeEventService` **[TimeEventService][1019]** The time event service

### addForm

Add a form device part

#### Parameters

-   `key` **[string][1004]** A key
-   `form` **Form** A form
-   `title` **[string][1004]** A title
-   `isList` **[boolean][1008]** `true` if this is a list of subforms, `false` otherwise (optional, default `false`)

### registerSwitchDevice

Register a switch device function
The method `addForm` should be called before

#### Parameters

-   `key` **[string][1004]** A key, the same as set in `addForm`
-   `cb` **[Function][1003]** The callback when a device switches `(device, formData, deviceStatus) => {}`. Please note that this callback can return a DeviceStatus object to save state. You can modify and return the status as parameter.
-   `type` **[string][1004]** The device type, constant can be `DEVICE_TYPE_LIGHT`, `DEVICE_TYPE_LIGHT_DIMMABLE`, `DEVICE_TYPE_LIGHT_DIMMABLE_COLOR`, `DEVICE_TYPE_SHUTTER`, `DEVICE_TYPE_GATE`, `DEVICE_TYPE_LOCK`, `DEVICE_TYPE_AUTOMATIC_WATERING` (optional, default `DEVICE_TYPE_LIGHT_DIMMABLE_COLOR`)
-   `comparator` **[Function][1003]** Comparator function to enable best device type. By default, the system checks if there is one element in array or if the subform is null. If this property is set, it will use the comparator. E.g. : `(subFormData) => {if (subFormData.enable) {return true;} else {return false;}}` (optional, default `null`)

### triggerScenario

Trigger scenario elements

#### Parameters

-   `scenario` **[object][1009]** A dynamic scenario object
-   `context` **[DeviceManager][1020]** The context

### registerDeviceListForm

Register a device list form

### registerDeviceTiles

Register all devices on dashboard to get tiles on UI

### getDevices

Return the list of devices

Returns **[Array][1005]** The list of devices

### getDeviceStatus

Return a status of a device

#### Parameters

-   `id` **[number][1007]** A device identifier

Returns **[boolean][1008]** Status of the device

### bestDeviceType

Return a best device type

#### Parameters

-   `deviceTypes` **[Array][1005]** A list of device types

Returns **[string][1004]** Best device type;

### registerDeviceTile

Register a device on dashboard

#### Parameters

-   `device` **[DeviceForm][1021]** A device
-   `data` **[Array][1005]** Some data (optional, default `[]`)
-   `index` **[number][1007]** An index (optional, default `-1`)

### getDeviceTypes

Returns the supported modes for a specific device (e.g. light, dimmable, color, ...)

#### Parameters

-   `device` **[object][1009]** A device

Returns **\[[string][1004]]** The list of supported modes

### getDeviceById

Returns a device from an identifier

#### Parameters

-   `id` **[string][1004]** An identifier

Returns **[object][1009]** A device

### switchDevice

Switch a device status

#### Parameters

-   `id` **[number][1007]** A device identifier
-   `status` **[string][1004]** A status  (`on`, `off` or int status) (optional, default `null`)
-   `brightness` **int** Brightness (between 0 and 1) (optional, default `0.9`)
-   `color` **[string][1004]** Color (hex color) (optional, default `FFFFFF`)
-   `colorTemperature` **int** Color temperature (between 0 and 1) (optional, default `0`)

### guessDeviceStatus

Guess a device status and brightness with machine learning

#### Parameters

-   `timestamp` **[number][1007]** The projected timestamp
-   `identifier` **[string][1004]** A device identifier. If this parameter is set, there is no need to set `room` and `name` (optional, default `null`)
-   `status` **[string][1004]** A status (INT_STATUS_ON or INT_STATUS_OFF) (optional, default `null`)
-   `room` **[string][1004]** A room (optional, default `null`)
-   `name` **[string][1004]** A sensor name (optional, default `null`)
-   `cb` **[Function][1003]** A callback. If not provided, a promise will be returned. Example : `(err, status, brightness) => {}` (optional, default `null`)

Returns **([Promise][1006] | null)** If cb is not provided, a promise will be returned.

### switchDeviceWithDevice

Switch device with a device object

#### Parameters

-   `device` **[object][1009]** A device

### saveDevice

Save device

#### Parameters

-   `device` **[object][1009]** A device

### switchAll

Switch all devices depending on excludeAll flag

#### Parameters

-   `status` **[string][1004]** The status

### getDbHelper

Get db helper

Returns **[DbHelper][1016]** The device DbHelper object

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

## DeviceForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `name` **[string][1004]** A device name (optional, default `null`)
-   `excludeFromAll` **[boolean][1008]** When all on or all of is called, set this value to `true` won't do action (optional, default `null`)
-   `visible` **[boolean][1008]** Show in dashboard (optional, default `null`)
-   `worksOnlyOnDayNight` **[number][1007]** Trigger on condition : `0` for Both, `1` for day, `2` for night (optional, default `null`)
-   `icon` **IconForm** An icon (optional, default `null`)
-   `radio` **RadioForm** A radio informations (optional, default `null`)
-   `status` **[number][1007]** A status (optional, default `null`)
-   `brightness` **[number][1007]** The brightness for dimmable (optional, default `1`)
-   `color` **[string][1004]** The device color (optional, default `"FFFFFF"`)
-   `colorTemperature` **[string][1004]** The device color temperature (optional, default `0`)
-   `powerOutageRestore` **[boolean][1008]** Restore whenpower outage occured (optional, default `false`)
-   `room` **RoomForm** A room (optional, default `null`)
-   `subDevices` **[Array][1005]** A sub devices (optional, default `[]`)

### name

### excludeFromAll

### visible

### powerOutageRestore

### worksOnlyOnDayNight

### icon

### room

### status

### brightness

### color

### colorTemperature

### subDevices

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DeviceForm][1021]** A form object

## DevicesListForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `identifier` **[number][1007]** The device identifier (optional, default `null`)
-   `status` **[string][1004]** The status (optional, default `null`)
-   `brightness` **[number][1007]** Brightness (optional, default `1`)
-   `color` **[string][1004]** Color (optional, default `"FFFFFF"`)
-   `colorTemperature` **[string][1004]** Color temperature (optional, default `0`)
-   `keepParams` **[boolean][1008]** Keep params existing (optional, default `true`)
-   `updateBrightness` **[number][1007]** Update brightness (optional, default `0`)
-   `updateTemperature` **[number][1007]** Update temperature (optional, default `0`)
-   `updateColor` **[number][1007]** Update temperature (optional, default `0`)

### identifier

### status

### keepParams

### brightness

### color

### colorTemperature

### updateBrightness

### updateTemperature

### updateColor

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DevicesListForm][1022]** A form object

### getDevicesName

Form injection method for Devices name

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices name

### getDevicesId

Form injection method for Devices ids

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices id

## DevicesListSimpleForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `identifier` **[number][1007]** The device identifier (optional, default `null`)

### identifier

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DevicesListSimpleForm][1023]** A form object

### getDevicesName

Form injection method for Devices name

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices name

### getDevicesId

Form injection method for Devices ids

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices id

## DevicesListScenarioTriggerForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `identifier` **[number][1007]** The device identifier (optional, default `null`)
-   `status` **[string][1004]** The status (optional, default `null`)

### identifier

### status

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DevicesListScenarioTriggerForm][1024]** A form object

### getDevicesName

Form injection method for Devices name

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices name

### getDevicesId

Form injection method for Devices ids

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of devices id

## DevicesListScenarioForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `turnOnAll` **[boolean][1008]** Turn on all devices (optional, default `null`)
-   `turnOffAll` **[boolean][1008]** Turn off all devices (optional, default `null`)
-   `devices` **[Array][1005]** An array if DevicesListForm (optional, default `null`)
-   `triggerOnDevice` **[Array][1005]** An array if DevicesListForm, scenario is triggered when this haappens (optional, default `null`)

### turnOnAll

### turnOffAll

### devices

### triggerOnDevice

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DevicesListScenarioForm][1025]** A form object

## Icons

Utility class for icons

### iconsSvg

Return the svg icons list

Returns **[object][1009]** Svg icons object

### icons

Return the svg icons list

Returns **[object][1009]** Svg icons object

### list

Return a list of icons (key / value)

Returns **[object][1009]** The icons under Key / Value format

## DeviceStatus

This class provides is a POJO for device status

### Parameters

-   `deviceTypes` **\[[string][1004]]** Supported mode for device
-   `status` **int** The status
-   `brightness` **int** The brightness
-   `color` **[string][1004]** The color
-   `colorTemperature` **int** The color temperature
-   `changes` **\[[string][1004]]** Changes (optional, default `[]`)

### getStatus

Get status

Returns **[number][1007]** Status

### getBrightness

Get Brightness

Returns **[number][1007]** Brightness

### getColor

Get color

Returns **[string][1004]** Color

### getColorTemperature

Get color temperature

Returns **[number][1007]** Color temperature

### setStatus

Set status

#### Parameters

-   `status` **int** The status

### setBrightness

Set brightness

#### Parameters

-   `brightness` **int** The brightness (value between 0 and 1)

### setColor

Set color

#### Parameters

-   `color` **[string][1004]** The hex color

### setColorTemperature

Set color temperature

#### Parameters

-   `colorTemperature` **[number][1007]** The color temperature

### tileFormat

Generates a standard object format for tile

Returns **[object][1009]** Standard object

## DbDevice

**Extends DbObject.class**

This class is used for devices database

### Parameters

-   `dbHelper` **[DbHelper][1016]** A database helper (optional, default `null`)
-   `values` **...[object][1009]** The values

## identifier

## identifier

## status

## brightness

## color

## temperature

## EnvironmentAPI

Public API for home environement

### Parameters

-   `environmentManager`  

### getCoordinates

Return the home's coordinates

Returns **[object][1009]** The coordinates

### setDay

Set day

### setNight

Set night

### isNight

Is it night ?

Returns **[boolean][1008]** `true` if night mode, otherwise `false`

### registerDayNightNotifications

Register for day/night notifications

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when day/night information is received. Example : `(isNight) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### unregisterDayNightNotifications

Unegister for day/night notifications

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when day/night information is received. Example : `(isNight) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### getLocalAPIUrl

Get the local API Url

Returns **[string][1004]** The local API url (e.g. : [http://192.168.1.3:8100/api/][1026])

### getSmartiesId

Returns the smarties ID

Returns **[string][1004]** Smarties identifier

### getFullSmartiesId

Returns the full smarties ID

Returns **[string][1004]** Smarties full identifier

### getScannedIp

Get the list of ips and mac address of local network

Returns **[Array][1005]** List of scanned ip on local network

### getLocalIp

Get the local IP address, null if not found

Returns **[string][1004]** The local IP address

### constants

Expose a list of constants (status)

Returns **[object][1009]** Constants

## EnvironmentManager

This class allows to manage house environment

### Parameters

-   `appConfiguration` **AppConfiguration** The app configuration object
-   `confManager` **ConfManager** A configuration manager
-   `formManager` **FormManager** A form manager
-   `webServices` **[WebServices][1010]** The web services
-   `dashboardManager` **DashboardManager** The dashboard manager
-   `translateManager` **TranslateManager** The translate manager
-   `scenarioManager` **ScenarioManager** The scenario manager
-   `version` **[string][1004]** The app version
-   `hash` **[string][1004]** The app hash
-   `installationManager` **InstallationManager** The installation manager
-   `timeEventService` **[TimeEventService][1019]** The time event service
-   `eventBus` **EventEmitter** The global event bus
-   `messageManager` **MessageManager** The message manager
-   `eventStop` **[string][1004]** The stop event (broadcast identifier)
-   `eventReady` **[string][1004]** The ready event (broadcast identifier)
-   `userManager` **UserManager** The user manager

### setTimezone

Set timezone

#### Parameters

-   `appConfiguration` **[object][1009]** An app configuration

### registerDayNightNotifications

Register for day/night notifications

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when day/night information is received. Example : `(isNight) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### unregisterDayNightNotifications

Unegister for day/night notifications

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when day/night information is received. Example : `(isNight) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### registerTile

Register day / night tile

### getCoordinates

Return the home's coordinates

Returns **[object][1009]** The coordinates

### getCountry

Get ISO-3166-3 country code

Returns **[string][1004]** The ISO-3166-3 country code

### getSeason

Get the season

#### Parameters

-   `timestamp` **[number][1007]** A timestamp (optional, default `null`)

Returns **[string][1004]** The ISO-3166-3 country code

### dispatchDayNightChange

Dispatch day or night changes

### setDay

Set day

### setNight

Set night

### isNight

Is it night ?

Returns **[boolean][1008]** `true` if night mode, otherwise `false`

### getLocalPort

Get the local HTTP port

Returns **[number][1007]** The local smarties HTTP port

### getLocalIp

Get the local IP address, null if not found

Returns **[string][1004]** The local IP address

### getMacAddress

Get the mac address

Returns **[string][1004]** The mac address, or `null` if not found

### getLocalAPIUrl

Get the local API Url

Returns **[string][1004]** The local API url (e.g. : [http://192.168.2.34:8100/api/][1027])

### saveMainConfiguration

Save the main configuration. This method throw an error if something wrong occurs.

#### Parameters

-   `data` **[object][1009]** The configuration data to be updated

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

### updateCore

Try to update core

### isDefaultConfig

Check if this is the default configuration exposed

Returns **[boolean][1008]** `true` if this is the default config, `false` otherwise

### getSmartiesId

Returns the smarties ID

Returns **[string][1004]** Smarties identifier

### getFullSmartiesId

Returns the full smarties ID

Returns **[string][1004]** Smarties full identifier

### registerIpScanForm

Register ip scan form

### startIpScan

Start ip scanner service and update ip scan form

### manageUptimeFile

Manage the uptime file

## EnvironmentForm

**Extends FormObject.class**

This class provides home environment form

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `day` **[boolean][1008]** Day or night (optional, default `null`)

### day

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[EnvironmentForm][1028]** A form object

## DayNightScenarioForm

**Extends FormObject.class**

This class provides a form for a day / night trigger event for scenario

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `mode` **[string][1004]** Mode : 0 => none, 1 => day, 2 => night (optional, default `"0"`)

### mode

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DayNightScenarioForm][1029]** A form object

## DayNightScenarioTriggerForm

**Extends FormObject.class**

This class provides a form for a day / night trigger event for scenario

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `day` **[boolean][1008]** Day falling (optional, default `false`)
-   `night` **[boolean][1008]** Night falling (optional, default `false`)

### day

### night

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[DayNightScenarioTriggerForm][1030]** A form object

## IpScanForm

**Extends FormObject.class**

This class provides ip scan form

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `ip` **[string][1004]** Ip (optional, default `null`)
-   `freetext` **[string][1004]** A free text (optional, default `null`)
-   `freetextHidden` **[string][1004]** Hidden free text for dependency form (optional, default `null`)

### ip

### freetext

### freetextHidden

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[IpScanForm][1031]** A form object

### getValues

Get values

#### Parameters

-   `inject` **...[Array][1005]** Injection

Returns **[Array][1005]** Result

### getValuesWithoutFreetext

Get values without freetext

#### Parameters

-   `inject` **...[Array][1005]** Injection

Returns **[Array][1005]** Result

### getTitles

Get titles

#### Parameters

-   `inject` **...[Array][1005]** Injection

Returns **[Array][1005]** Result

## TimerWrapper

Utility class for timers

### setInterval

Set interval wrapper

#### Parameters

-   `f` **[Function][1003]** Function
-   `time` **[number][1007]** Time
-   `p` **...[object][1009]** Parameters

Returns **[object][1009]** Object

### clearInterval

Clear interval wrapper

#### Parameters

-   `n` **[object][1009]** Object

### setTimeout

Set timeout wrapper

#### Parameters

-   `f` **[Function][1003]** Function
-   `time` **[number][1007]** Time
-   `p` **...[object][1009]** Parameters

Returns **[object][1009]** Object

### clearTimeout

Clear timeout wrapper

#### Parameters

-   `n` **[object][1009]** Object

### setImmediate

Set immediate wrapper

#### Parameters

-   `f` **[Function][1003]** Function
-   `p` **...[object][1009]** Parameters

Returns **[object][1009]** Object

### clearImmediate

Clear immediate wrapper

#### Parameters

-   `n` **[object][1009]** Object

### clearAll

Clear all

## GatewayAPI

Public API for gateway

### Parameters

-   `gatewayManager`  

### getDistantUrl

Get full smarties URL

Returns **[string][1004]** The URL

### getDistantApiUrl

Get full smarties API URL

Returns **[string][1004]** The URL

## InstallerAPI

Public API for installation of external apps

### Parameters

-   `installationManager`  
-   `version`  

### register

Register a command to be executed for a specific version

#### Parameters

-   `arch` **([string][1004] \| [Array][1005])** The architecture ('arm', 'arm64', 'ia32', 'mips', 'mipsel', 'ppc', 'ppc64', 's390', 's390x', 'x32', 'x64', and 'x86'). Can be `*` for all arch, or an array of architectures (optional, default `"*"`)
-   `command` **[string][1004]** A command
-   `sudo` **[boolean][1008]** True if command should be executed as sudo, false otherwise. The Smarties process owner user should be in `sudo` group without password. (optional, default `false`)
-   `wait` **[boolean][1008]** True if command is executed synchronously, false otherwise (optional, default `true`)
-   `skipError` **[boolean][1008]** True if command fails should continue, false for retrying (optional, default `false`)

### executeCommand

Execute a command. Can throw an error if wait is `true`

#### Parameters

-   `command` **[string][1004]** The command
-   `wait` **[boolean][1008]** True if command is executed synchronously, false otherwise (optional, default `true`)
-   `cb` **[Function][1003]** A callback (only if wait parameter is false) : `(error, stdout, stderr) => {}` (optional, default `null`)

Returns **[object][1009]** An object result if wait is `true`

## IotAPI

Public API for iot

### Parameters

-   `iotManager`  

### registerLib

Register an IoT library
A library folder should contain `global_lib` and `lib` folder, inside `path` parameter

#### Parameters

-   `path` **[string][1004]** The library path
-   `appId` **[string][1004]** An app identifier
-   `version` **int** A version number (optional, default `0`)
-   `wiringSchema` **[Object][1009]** A wiring schema with the following properties, e.g. : `{left:{"D1":[], "D2":[]}, right:{"D3":[], "D4":[]}, up:{}, down:{}}` (optional, default `{}`)
-   `form` **[FormObject][1032]** A form (optional, default `null`)
-   `inject` **...[Object][1009]** Some form injection parameters

### registerApp

Register an IoT library
An IoT app folder should contain `global_lib`, `lib` and `src` folder, inside `path` parameter.
A `main.cpp` file should be created under `src` folder.

#### Parameters

-   `path` **[string][1004]** The application file path
-   `appId` **[string][1004]** An app identifier
-   `name` **[string][1004]** The app name
-   `version` **int** The application version number
-   `platform` **[string][1004]** A platform
-   `board` **[string][1004]** A board type
-   `framework` **[string][1004]** A framework
-   `dependencies` **[Array][1005]** The array of library dependencies. Can be en empty array or an array of library app identifiers.
-   `options` **[Object][1009]** A list of options injected in IoT configuration during flash sequence (optional, default `null`)
-   `wiringSchema` **[Object][1009]** A wiring schema with the following properties, e.g. : `{left:{"D1":"", "D2":""}, right:{"D3":"", "D4":""}, up:{}, down:{}}` (optional, default `{}`)
-   `form` **[FormObject][1032]** A form (optional, default `null`)
-   `inject` **...[Object][1009]** Some form injection parameters

### iotAppExists

Check if an IoT app exists

#### Parameters

-   `appId` **[string][1004]** An app identifier

Returns **[boolean][1008]** `true` if the iot app is registered, `false` otherwise

### getVersion

Get a version for a specific IoT app

#### Parameters

-   `appId` **[string][1004]** An app identifier

Returns **int** A version number

### getIot

Retrieve an IoT (not application, but configured instance)

#### Parameters

-   `id` **[number][1007]** An IoT identifier

Returns **[Object][1009]** An IoT configuration object

### build

Build a firmware for a specific appId

#### Parameters

-   `id` **[string][1004]** The iot identifier
-   `appId` **[string][1004]** An app identifier
-   `flash` **[Boolean][1008]** `true` if USB flash sequence should be done after build, `false` otherwise (optional, default `false`)
-   `config` **[Object][1009]** A configuration injected to firmware (optional, default `null`)
-   `cb` **[Function][1003]** A callback `(error, result) => {}` called when firmware / flash is done. The result object contains 2 properties, `firmwarePath` for the firmware, `stdout` for the results

### constants

Get the constants `constants().PLATFORMS`, `constants().BOARDS` and `constants().FRAMEWORKS`

Returns **[Object][1009]** The constants object

### getIots

Retrieve IoTs (not application, but configured instance)

#### Parameters

-   `app` **[string][1004]** An IoT app identifier (optional, default `null`)

Returns **[array][1005]** A list of IoT configuration objects

### isBuilding

Get the global build status

Returns **[Boolean][1008]** Returns `true` if a build is already running, `false` otherwise

### getWiringSchemaForLib

Returns the schema for a specific lib

#### Parameters

-   `lib` **[string][1004]** The lib name

Returns **[Object][1009]** A wiring schema object

### addIngredientForReceipe

Register an ingredient for a receipt.
This method will give a list of ingredients for the iot to end user

#### Parameters

-   `iotAppOrLibKey` **[string][1004]** The app or lib key
-   `reference` **[string][1004]** The component's reference
-   `description` **[string][1004]** The component's description
-   `quantity` **[number][1007]** The quantity (optional, default `1`)
-   `isMandatory` **[boolean][1008]** `true` if component is mandatory, `false` otherwise (optional, default `true`)
-   `isMain` **[boolean][1008]** `true` if component is the main component, `false` otherwise. A main component will be the component draw in the interface. Only one main component ! (optional, default `false`)

### setUpgradeUrl

Set the upgrade URL for a specific IoT

#### Parameters

-   `id` **[string][1004]** The iot identifier
-   `upgradeUrl` **[string][1004]** The upgrade url

### setVersion

Set the current version of the iot app

#### Parameters

-   `id` **[string][1004]** The iot identifier
-   `version` **[number][1007]** The version

## MessageAPI

Public API for messages

### Parameters

-   `messageManager`  

### sendMessage

Send a message to all plugins.

#### Parameters

-   `recipients` **([string][1004] \| [Array][1005])** The recipients. `*` for all users, otherwise an array of usernames - user `userAPI`, e.g. `["seb", "ema"]` (optional, default `"*"`)
-   `message` **[string][1004]** The notification message
-   `action` **[string][1004]** The action (optional, default `null`)
-   `link` **[string][1004]** The link (optional, default `null`)
-   `picture` **[string][1004]** The picture (optional, default `null`)
-   `critical` **[boolean][1008]** Critical message (optional, default `false`)

### register

Register an object to message events. The callback must implement `onMessageReceived(message)` method

#### Parameters

-   `o` **[object][1009]** An object that implements callback

### unregister

Unregister an object to message events

#### Parameters

-   `o` **[object][1009]** An object that implements callback

### onMessageReceived

Callback when a message is received, dispatched to registered elements

#### Parameters

-   `sender` **[string][1004]** The sender's username
-   `message` **[string][1004]** The message received

### getMessages

Get messages

#### Parameters

-   `cb` **[Function][1003]** A callback `(err, results) => {}`
-   `username` **[string][1004]** A username
-   `lastTimestamp` **[number][1007]** Last timestamp retrieval (optional, default `null`)

## RadioAPI

Public API for radio events

### Parameters

-   `radioManager`  

### register

Register for radio events

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when radio information is received. Example : `(radioObj, radioInstance) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### unregister

Unegister an timer element

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when radio information is received. Example : `(radioObj) => {}`
-   `id` **[string][1004]** An identifier (optional, default `null`)

### compareFormObject

Compare a `RadioScenarioForm` object and a standard received `RadioObject`

#### Parameters

-   `radioFormObject` **RadioScenarioForm** The radio scenario form object
-   `radioObject` **[object][1009]** A standard radio object

Returns **[boolean][1008]** `true` if objects matches, `false` otherwise

### getLastReceivedRadioInformations

Get last received radio informations

#### Parameters

-   `cb` **[Function][1003]** A callback `cb(radioObjects) => {}`
-   `nbElements` **[number][1007]** Number of elements (optional, default `100`)

### refreshProtocols

Force refresh protocols

## ScenarioAPI

Public API for scenarios

### Parameters

-   `scenarioManager`  

### registerSubform

Register a subform class for using into another form

#### Parameters

-   `formPart` **Class** A class with form annotations
-   `inject` **...[object][1009]** Parameters injection on static methods

### register

Register to scenario execution engine

#### Parameters

-   `formPart` **[FormObject][1032]** A form part
-   `triggerCb` **[Function][1003]** A trigger called when a scenario should be executed. E.g. : `(scenario, additionalInfos) => {}` (optional, default `null`)
-   `title` **[string][1004]** The title for sub form (can be translation key) (optional, default `null`)
-   `sort` **[number][1007]** Sort (optional, default `null`)
-   `isList` **[boolean][1008]** `false` if this is a list of objects, otherwise `false` (optional, default `false`)

### registerWithInjection

Register to scenario execution engine with injection

#### Parameters

-   `formPart` **[FormObject][1032]** A form part
-   `triggerCb` **[Function][1003]** A trigger called when a scenario should be executed. E.g. : `(scenario, additionalInfos) => {}` (optional, default `null`)
-   `title` **[string][1004]** The title for sub form (optional, default `null`)
-   `sort` **[number][1007]** Sort (optional, default `null`)
-   `isList` **[boolean][1008]** `false` if this is a list of objects, otherwise `false` (optional, default `false`)
-   `inject` **...[object][1009]** Parameters injection on static methods

### unregister

Unregister to scenario execution engine

#### Parameters

-   `formPart` **[FormObject][1032]** A form part
-   `triggerCb` **[Function][1003]** A trigger called when a scenario should be executed. E.g. : `(scenario) => {}` (optional, default `null`)

### triggerScenario

Called when a scenario is triggered

#### Parameters

-   `scenario` **ScenarioForm** A scenario
-   `additionalInfos` **[object][1009]** Additional informations (optional, default `{}`)

### getScenarios

Return a COPY of the scenarios array

Returns **\[ScenarioForm]** An array of Scenario

### registerForScenarioChanges

Register for scenario change (scenario creation, modify, delete)

#### Parameters

-   `cb` **[Function][1003]** A callback `(data) => {}`

## SchedulerAPI

Public API for time events

### Parameters

-   `schedulerService`  

### register

Register a scheduler callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)
-   `callback` **[Function][1003]** A callback with an object in parameter : \`(data) => {}``

### unregister

Unregister a scheduler callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)

### schedule

Schedule an operation for a registered callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)
-   `timestamp` **timestamp** A timestamp or a constant : `IN_A_MINUTE`, `IN_FIVE_MINUTES`, `IN_TEN_MINUTES`, `IN_THIRTY_MINUTES`, `IN_A_HOUR`, `IN_TWELVE_HOUR`, `IN_A_DAY`
-   `data` **[object][1009]** A data passed to callback when triggered (optional, default `{}`)

### cancel

Cancel a scheduled operation

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)

### constants

Expose a list of constants : `IN_A_MINUTE`, `IN_FIVE_MINUTES`, `IN_TEN_MINUTES`, `IN_THIRTY_MINUTES`, `IN_A_HOUR`, `IN_TWELVE_HOUR`, `IN_A_DAY`

Returns **[object][1009]** Constants

## SchedulerService

**Extends Service.class**

This class allows to execute some operations in future

### Parameters

-   `dbManager` **DbManager** A DbManager object
-   `timeEventService` **[TimeEventService][1019]** The TimeEventService instan e

### start

Start the service

### stop

Stop the service

### register

Register a scheduler callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)
-   `callback` **[Function][1003]** A callback with an object in parameter : `(data) => {}`

### unregister

Unregister a scheduler callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)

### schedule

Schedule an operation for a registered callback

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)
-   `timestamp` **timestamp** A timestamp or a constant : `IN_A_MINUTE`, `IN_FIVE_MINUTES`, `IN_TEN_MINUTES`, `IN_THIRTY_MINUTES`, `IN_A_HOUR`, `IN_TWELVE_HOUR`, `IN_A_DAY`
-   `data` **[object][1009]** A data passed to callback when triggered (optional, default `{}`)

### cancel

Cancel a scheduled operation

#### Parameters

-   `id` **[string][1004]** An identifier (must be unique)

### timeEvent

Timer event registered

#### Parameters

-   `self` **[SchedulerService][1033]** The SchedulerService instance

## Service

This class should not be implemented but only inherited.
This class is used for services, start, stop, ...

### Parameters

-   `name` **[string][1004]** The service identifier
-   `threadsManager` **ThreadManager** The thread manager, mandatory if using SERVICE_MODE_THREADED mode service (optional, default `null`)
-   `mode` **int** The service running mode : SERVICE_MODE_CLASSIC, SERVICE_MODE_THREADED, SERVICE_MODE_EXTERNAL (optional, default `SERVICE_MODE_CLASSIC`)
-   `command` **[string][1004]** The external service command to execute, in case of SERVICE_MODE_EXTERNAL (optional, default `null`)

### start

Start the service

### run

Run function prototype threaded
Should be overloaded by service

#### Parameters

-   `data` **[object][1009]** A data passed as initial value
-   `send` **[Function][1003]** Send a message to parent process

### threadCallback

Retrieve data from process
Should be overloaded by service

#### Parameters

-   `data` **[object][1009]** A data passed as initial value
-   `threadManager` **ThreadsManager** The thread manager
-   `context` **[object][1009]** A data passed as initial value

### send

Send data to sub process

#### Parameters

-   `event` **[string][1004]** An event
-   `data` **[object][1009]** A data (optional, default `null`)

### startThreaded

Internal
Start in threaded mode (sub process)

### stopThreaded

Internal
Stop in threaded mode (sub process)

### startExternal

Internal
Start an external command

### stopExternal

Internal
Stop an external command

### stop

Stop the service

### restart

Restart the service

### status

Return the service status

Returns **int** STOPPED or RUNNING

### register

Register service callback

#### Parameters

-   `delegate` **[object][1009]** The service delegate

### unregister

Unregister service callback

#### Parameters

-   `delegate` **[object][1009]** The service delegate

### setThreadsManager

Set threads manager

#### Parameters

-   `threadsManager` **ThreadsManagaer** A threads manager

### setExternalTerminatedCommandCb

Set the callback when the external command is terminated

#### Parameters

-   `cb` **[Function][1003]** A callback `(service, error)=>{}`

## SchedulerDbObject

**Extends DbObject.class**

Database object and schema for scheduler

### Parameters

-   `dbHelper` **[DbHelper][1016]** A DbHelper object mapping (optional, default `null`)
-   `values` **...[object][1009]** The values

## data

## triggerDate

## triggered

## SensorAPI

Public API for sensor

### Parameters

-   `formManager`  
-   `plugin`  
-   `sensorsManager`  

### registerForm

Register a sensor form

#### Parameters

-   `formClass` **Class** A form annotation's implemented class
-   `inject` **...[object][1009]** The injected objects

### registerClass

Register a sensor class

#### Parameters

-   `c` **Class** A sensor extended class

### registerSensorEvent

Register a callback for a/all sensor

#### Parameters

-   `cb` **[Function][1003]** A callback `(id, type, value, unit, vcc, aggValue, aggUnit) => {}`
-   `identifier` **[string][1004]** A sensor identifier (retrieved through `getAllSensors()`, or `*` for all) (optional, default `"*"`)
-   `type` **[string][1004]** A sensor type. For all types, use `*` (optional, default `"*"`)

### unregisterSensorEvent

Unregister a callback for a/all sensor

#### Parameters

-   `cb` **[Function][1003]** A callback `(id, type, value, unit, vcc, aggValue, aggUnit) => {}`
-   `identifier` **[string][1004]** A sensor identifier (retrieved through `getAllSensors()`, or `*` for all) (optional, default `"*"`)
-   `type` **[string][1004]** A sensor type. For all types, use `*` (optional, default `"*"`)

### getSensors

Get all sensors

#### Parameters

-   `type` **[string][1004]** Sensor's type or category. If not specified, send back all sensors. (optional, default `null`)

Returns **[object][1009]** On object with id:name

### getValue

Get a sensor's value

#### Parameters

-   `id` **[number][1007]** The sensor's identifier
-   `cb` **[Function][1003]** A callback e.g. `(err, res) => {}`
-   `duration` **[number][1007]** A duration in seconds. If null or not provided, will provide last inserted database value. (optional, default `null`)

### getSensor

Get sensor by identifier

#### Parameters

-   `identifier` **[string][1004]** An identiifer

Returns **Sensor** A sensor object

### iotAppPowered

Call this if your plugin is linked to an iot. The iot list form will be automatically added.
The method should be called before `registerForm()` !

### constants

Expose a list of constants (status)

Returns **[object][1009]** Constants

### guessSensorValue

Guess a sensor value with machine learning

#### Parameters

-   `timestamp` **[number][1007]** The projected timestamp
-   `identifier` **[string][1004]** A sensor identifier. If this parameter is set, there is no need to set `room`, `type` and `name` (optional, default `null`)
-   `room` **[string][1004]** A room (optional, default `null`)
-   `type` **[string][1004]** A sensor type (optional, default `null`)
-   `name` **[string][1004]** A sensor name (optional, default `null`)
-   `cb` **[Function][1003]** A callback. If not provided, a promise will be returned. Example : `(err, value, sensorType) => {}` (optional, default `null`)

Returns **([Promise][1006] | null)** If cb is not provided, a promise will be returned.

## IotsListForm

**Extends FormObject.class**

This class provides a iot list form

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `identifier` **[number][1007]** The iot identifier (optional, default `null`)

### identifier

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[IotsListForm][1034]** A form object

### getIotsName

Form injection method for Iots name

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of iots name

### getIotsId

Form injection method for Iots ids

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of iots id

## FormObject

Form objects
This class must be extended

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[FormObject][1032]** A form object

## id

## SensorsManager

This class allows to manage sensors

### Parameters

-   `pluginsManager` **[PluginsManager][1035]** A plugin manager
-   `eventBus` **EventEmitter** The global event bus
-   `webServices` **[WebServices][1010]** The web services
-   `formManager` **FormManager** The form manager
-   `confManager` **ConfManager** The configuration manager
-   `translateManager` **TranslateManager** The translate manager
-   `themeManager` **[ThemeManager][1013]** The theme manager
-   `botEngine` **BotEngine** The bot engine
-   `timeEventService` **[TimeEventService][1019]** The time event service
-   `scenarioManager` **ScenarioManager** The scenario manager
-   `aiManager` **AiManager** The ai manager

### pluginsLoaded

Called automatically when plugins are loaded. Used in separate methods for testing.
Initially, this method wad used in contructor.

#### Parameters

-   `pluginsManager` **[PluginsManager][1035]** The plugins manager instance
-   `context` **[SensorsManager][1018]** The context (self, this, etc ...)

### initSensors

Initialize sensors

### scenarioTrigger

Scenario trigger Callback

### initSensor

Init a sensor instance and add to local array

#### Parameters

-   `configuration` **[object][1009]** The sensor configuration

### registerSensorEvent

Register a callback for a/all sensor

#### Parameters

-   `cb` **[Function][1003]** A callback `(id, type, value, unit, vcc, aggValue, aggUnit) => {}`
-   `identifier` **[string][1004]** A sensor identifier (retrieved through `getAllSensors()`, or `*` for all) (optional, default `"*"`)
-   `type` **[string][1004]** A sensor type. For all types, use `*` (optional, default `"*"`)

### getSensor

Get sensor by identifier

#### Parameters

-   `identifier` **[string][1004]** An identiifer

Returns **Sensor** A sensor object

### unregisterSensorEvent

Unregister a callback for a/all sensor

#### Parameters

-   `cb` **[Function][1003]** A callback `(id, type, value, unit, vcc, aggValue, aggUnit) => {}`
-   `identifier` **[string][1004]** A sensor identifier (retrieved through `getAllSensors()`, or `*` for all) (optional, default `"*"`)
-   `type` **[string][1004]** A sensor type. For all types, use `*` (optional, default `"*"`)

### getAllSensors

Get all sensors

#### Parameters

-   `type` **[string][1004]** Sensor's type or category. If not specified, send back all sensors. (optional, default `null`)

Returns **[object][1009]** On object with id:name

### onNewSensorValue

Callback when a sensor receives a value

#### Parameters

-   `id` **[number][1007]** The identifier
-   `type` **[string][1004]** The type
-   `value` **[number][1007]** The raw value
-   `unit` **[string][1004]** The raw unit
-   `vcc` **[number][1007]** The sensor's voltage
-   `aggValue` **[number][1007]** The aggregated value;
-   `aggUnit` **[string][1004]** The aggregated unit

### guessSensorValue

Guess a sensor value with machine learning

#### Parameters

-   `timestamp` **[number][1007]** The projected timestamp
-   `identifier` **[string][1004]** A sensor identifier. If this parameter is set, there is no need to set `room`, `type` and `name` (optional, default `null`)
-   `room` **[string][1004]** A room (optional, default `null`)
-   `type` **[string][1004]** A sensor type (optional, default `null`)
-   `name` **[string][1004]** A sensor name (optional, default `null`)
-   `cb` **[Function][1003]** A callback. If not provided, a promise will be returned. Example : `(err, value, sensorType) => {}` (optional, default `null`)

Returns **([Promise][1006] | null)** If cb is not provided, a promise will be returned.

### getValue

Get a sensor's value

#### Parameters

-   `id` **[number][1007]** The sensor's identifier
-   `cb` **[Function][1003]** A callback e.g. `(err, res) => {}`
-   `duration` **[number][1007]** A duration in seconds. If null or not provided, will provide last inserted database value. (optional, default `null`)

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

### statisticsWsResponse

Build a statistics data

#### Parameters

-   `endTimestamp` **[number][1007]** The end timestamp for aggregation
-   `duration` **[number][1007]** A duration in seconds (period)
-   `aggregation` **[number][1007]** The aggregation in seconds
-   `displayDateFormat` **[string][1004]** The display date format
-   `roundTimestampFunction` **[Function][1003]** A  e.g. `(timestamp) => {return  timestamp;}` (optional, default `null`)
-   `roundDateSqlFormat` **[string][1004]** In relation with roundTimeStampFunction, the SQL date format. E.g. : "%Y-%m-01 00:00:00" (optional, default `null`)
-   `username` **[string][1004]** A username (optional, default `null`)

Returns **[Promise][1006]** A promise

### comparator

Compare sensor data

#### Parameters

-   `sensorData1` **[object][1009]** Sensor data 1
-   `sensorData2` **[object][1009]** Sensor data 2

Returns **[boolean][1008]** True if id is the same, false otherwise

### getSensorConfiguration

Get sensor configuration. If no parameters are passed, returns the array of all sensor configuration.

#### Parameters

-   `sensorId` **[string][1004]** The sensor identifier. Can be null. (optional, default `null`)

Returns **[object][1009]** The sensor configuration, or configurations, or null if nothing found

### registerSensorsListForm

Register a sensors list form

## SensorsForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `sensorId` **[number][1007]** A sensor identifier (optional, default `null`)

### sensorId

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[SensorsForm][1036]** A form object

### getSensorIds

Sensors id injection

#### Parameters

-   `inject` **...[object][1009]** Inject parameters

Returns **[Array][1005]** An array of ids

### getSensorNames

Sensors name injection

#### Parameters

-   `inject` **...[object][1009]** Inject parameters

Returns **[Array][1005]** An array of names

## SensorsListForm

**Extends FormObject.class**

This class provides a form for sensors

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `identifier` **[number][1007]** The sensor identifier (optional, default `null`)

### identifier

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[SensorsListForm][1037]** A form object

### getSensorsName

Form injection method for Sensors name

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of sensors name

### getSensorsId

Form injection method for Sensors ids

#### Parameters

-   `inject` **...[object][1009]** The modules list array

Returns **[Array][1005]** An array of sensors id

## SensorsListScenarioForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `sensors` **[Array][1005]** An array if SensorsListForm (optional, default `null`)

### sensors

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[SensorsListScenarioForm][1038]** A form object

## SensorScenarioForm

**Extends FormObject.class**

This class provides a form for one device

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `sensor` **[Array][1005]** An array if SensorsListForm (optional, default `null`)
-   `operator` **[string][1004]** The operator (optional, default `"="`)
-   `threshold` **[number][1007]** The threshold (optional, default `0`)

### sensor

### operator

### threshold

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[SensorScenarioForm][1039]** A form object

## PluginsManager

This class manage plugins

### Parameters

-   `confManager` **ConfManager** The configuration manager
-   `webServices` **[WebServices][1010]** The web services
-   `servicesManager` **[ServicesManager][1040]** The services manager
-   `dbManager` **DbManager** The database manager
-   `translateManager` **TranslateManager** The translate manager
-   `formManager` **FormManager** The form manager
-   `timeEventService` **[TimeEventService][1019]** The time event service
-   `schedulerService` **[SchedulerService][1033]** The scheduler service
-   `dashboardManager` **DashboardManager** The dashboard manager
-   `eventBus` **EventEmitter** The global event bus
-   `themeManager` **[ThemeManager][1013]** The theme manager
-   `sensorsManager` **[SensorsManager][1018]** The sensors manager
-   `installationManager` **InstallationManager** The installation manager
-   `userManager` **UserManager** The user manager
-   `messageManager` **MessageManager** The message manager
-   `scenarioManager` **ScenarioManager** The scenario manager
-   `alarmManager` **AlarmManager** The alarm manager
-   `camerasManager` **CamerasManager** The cameras manager
-   `radioManager` **RadioManager** The radio manager
-   `appConfiguration` **[object][1009]** The global configuration
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `iotManager` **IotManager** The IoT manager
-   `botEngine` **BotEngine** The bot engine
-   `deviceManager` **[DeviceManager][1020]** The device manager
-   `backupManager` **BackupManager** The backup manager
-   `gatewayManager` **[GatewayManager][1041]** The gateway manager
-   `aiManager` **AiManager** The ai manager
-   `CORE_EVENT_READY` **[string][1004]** The core event ready identifier

### init

Initialization

#### Parameters

-   `start` **[boolean][1008]** Start services (optional, default `false`)

### getPluginsFromDirectory

Get plugins from external directory

#### Parameters

-   `srcPath` **[string][1004]** A source path

Returns **\[[string][1004]]** An array of plugins where prefix is well set as descripbed in PLUGIN_PREFIX

### checkPluginSanity

Check plugin sanity. A plugin should have name, version and description properties and a function as entry point

#### Parameters

-   `p` **[object][1009]** A plugin object as set in require. This method throws errors
-   `plugins` **\[PluginAPI]** plugins The plugin API array (optional, default `[]`)

### initPlugin

Init plugin by doing a require and create a Plugin API object for each registered needed plugins

#### Parameters

-   `plugin` **[string][1004]** The plugin
-   `path` **[string][1004]** Plugins path
-   `relative` **[boolean][1008]** True if path is relative, else false (optional, default `false`)

Returns **PluginAPI** Returns an array of plugins API

### initPlugins

Init plugins by doing a require and create a Plugin API object for each registered needed plugins

#### Parameters

-   `path` **[string][1004]** Plugins path
-   `plugins` **\[[string][1004]]** An array of plugins name
-   `relative` **[boolean][1008]** True if path is relative, else false (optional, default `false`)

Returns **\[PluginAPI]** Returns an array of plugins API

### registerPlugins

Register plugins with remi lib

#### Parameters

-   `plugins` **\[PluginAPI]** The list of PluginAPI correctly sorted

Returns **\[PluginAPI]** The plugin list identical as input, but without elements not sanitized

### load

Load all plugins (internal and external)

### getPluginsByCategory

Get plugin per category

#### Parameters

-   `category` **[string][1004]** A category
-   `checkInstance` **[boolean][1008]** True if return with instance, false otherwise. If set to true (default), it will check that there is an instance. False for testing is recommended. (optional, default `true`)

Returns **[Array][1005]** An array of plugins

### getPluginByIdentifier

Get a plugin with identifier

#### Parameters

-   `identifier` **[string][1004]** A plugin identifier
-   `checkInstance` **[boolean][1008]** True if return with instance, false otherwise. If set to true (default), it will check that there is an instance. False for testing is recommended. (optional, default `true`)

Returns **PluginAPI** A plugin

### isEnabled

Is the plugin enabled

#### Parameters

-   `pluginIdentifier` **[string][1004]** The plugin identifier

Returns **[boolean][1008]** `true` if enabled, `false` otherwise

### prepareToposortArray

Return a table prepared for toposort, with dependencies

#### Parameters

-   `plugins` **\[PluginAPI]** A list of PluginAPI objects

Returns **\[[array][1005]]** An array ready to be sorted, e.g. \[["a", "b"], ["b"], ["c"]]

### toposort

Toposort the array

#### Parameters

-   `toposortArray` **\[[array][1005]]** A toposort prepared array, processed previously in prepareToposortArray(). All undefined elements will be removed.

Returns **\[[string][1004]]** A toposorted array, sorted with dependencies

### topsortedArrayConverter

Re-create a correctly sorted array of plugins with the previous toposort order

#### Parameters

-   `toposortedArray` **\[[string][1004]]** A toposorted array, build with toposort()
-   `plugins` **\[PluginAPI]** The unsorted plugins array

Returns **\[PluginAPI]** An array of plugins sorted depending on dependencies

### getPluginConf

Returns a plugin configuration

#### Parameters

-   `identifier` **[string][1004]** The plugin identifier

Returns **[PluginConf][1042]** The plugin configuration

### changePluginStatus

Change plugin status

#### Parameters

-   `pluginConf` **[PluginConf][1042]** The changing plugin conf
-   `status` **[boolean][1008]** The new status
-   `restart` **[boolean][1008]** Set `true` if you want restart system,  `false` otherwise (optional, default `true`)

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

## PluginsAPI

This class is an interface for plugins

### Parameters

-   `previousVersion`  
-   `p`  
-   `webServices`  
-   `appConfiguration`  
-   `servicesManager`  
-   `dbManager`  
-   `translateManager`  
-   `formManager`  
-   `confManager`  
-   `timeEventService`  
-   `schedulerService`  
-   `dashboardManager`  
-   `themeManager`  
-   `sensorsManager`  
-   `installationManager`  
-   `userManager`  
-   `messageManager`  
-   `scenarioManager`  
-   `alarmManager`  
-   `camerasManager`  
-   `radioManager`  
-   `environmentManager`  
-   `pluginsManager`  
-   `iotManager`  
-   `botEngine`  
-   `eventBus`  
-   `deviceManager`  
-   `backupManager`  
-   `gatewayManager`  
-   `aiManager`  
-   `CORE_EVENT_READY`  
-   `oAuthRenewWsToken`  

### exportClass

Expose a class to other plugins

#### Parameters

-   `c` **class** A class

### init

Init APIs

### registerInstance

Register an instance as Entry point.

#### Parameters

-   `i` **[object][1009]** An instance

### getPluginInstance

Get a plugin instance

#### Parameters

-   `identifier` **[string][1004]** A plugin identifier

Returns **PluginAPI** A plugin

### constants

Expose a list of constants

Returns **[object][1009]** Constants

### getPluginsIdentifiersByCategory

Get plugin identifiers per gategory

#### Parameters

-   `category` **[string][1004]** A category
-   `checkInstance` **[boolean][1008]** True if return with instance, false otherwise. If set to true (default), it will check that there is an instance. False for testing is recommended. (optional, default `true`)

Returns **[Array][1005]** An array of plugins identifiers

### getIdentifier

Get current plugin identifier

Returns **[string][1004]** A plugin identifier

### renewOAuthToken

Renew oauth token

#### Parameters

-   `url` **[string][1004]** oAuth URL
-   `params` **[object][1009]** The parameters for oauth request
-   `cb` **[Function][1003]** The callback `(err) => {}` (optional, default `null`)

### start

Start plugin stuff

### stop

Stop plugin stuff

## IotForm

**Extends FormObject.class**

This class provides an Iot device. Need to be overloaded.

### Parameters

-   `id` **[number][1007]** An identifier (optional, default `null`)
-   `iotApp` **[string][1004]** An iot app identifier (optional, default `null`)
-   `name` **[string][1004]** A device name (optional, default `null`)

### iotApp

### name

### json

Convert json data

#### Parameters

-   `data` **[object][1009]** Some key / value data

Returns **[IotForm][1043]** A form object

## ImageUtils

Utility class for images

### sanitizeFormConfiguration

Convert form data to base 64 image

#### Parameters

-   `fieldData` **[string][1004]** Field data

Returns **[string][1004]** Base64 image

### resize

Resize an image and convert to png

#### Parameters

-   `b64string` **[string][1004]** The base64 image string
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`
-   `size` **[number][1007]** The size in pixel (optional, default `100`)

Returns **[string][1004]** The base64 output image string

### blur

Blur, resize an image and convert to png

#### Parameters

-   `b64string` **[string][1004]** The base64 image string
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`
-   `size` **[number][1007]** The size in pixel (optional, default `100`)

Returns **[string][1004]** The base64 output image string

### rotate

Rotate

#### Parameters

-   `b64string` **[string][1004]** The base64 image string
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`
-   `angle` **[number][1007]** The rotation in degrees

Returns **[string][1004]** The base64 output image string

### rotateb

Rotate buffer with out jpeg

#### Parameters

-   `buf` **[Buffer][1044]** The image buffer
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`
-   `angle` **[number][1007]** The rotation in degrees

Returns **[string][1004]** The base64 output image string

### merge

Paste image in another one

#### Parameters

-   `b64string` **[string][1004]** The base64 image string
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`
-   `b64stringInput2` **[string][1004]** The base64 of the second image to merge
-   `tmpFolder` **[string][1004]** The tmp folder
-   `x` **[number][1007]** Position X to paste
-   `y` **[number][1007]** Position X to paste

Returns **[string][1004]** The base64 output image string

### crop

Blur, resize an image and convert to png

#### Parameters

-   `b64string` **[string][1004]** The base64 image string
-   `x` **[number][1007]** The position x
-   `y` **[number][1007]** The position y
-   `width` **[number][1007]** The width
-   `height` **[number][1007]** The height
-   `cb` **[Function][1003]** A callback when image process is done `(err, data) => {}`

Returns **[string][1004]** The base64 output image string

## FileLock

Utility class for file locks

### Parameters

-   `cachePath` **[string][1004]** Temporary file
-   `schedulerService` **[SchedulerService][1033]** The scheduler service

### lock

Create a lock file

#### Parameters

-   `id` **[string][1004]** An identifier

### isLocked

Check if it's locked

#### Parameters

-   `id` **[string][1004]** An identifier

Returns **[boolean][1008]** `true` if it's locked, `false` otherwise

### unlock

Unlock previously locked

#### Parameters

-   `id` **[string][1004]** An identifier

### unlockAfterDelay

Unlock previously locked

#### Parameters

-   `id` **[string][1004]** An identifier
-   `schedulerServiceDelay` **int** A cheduler service delay

## PluginConf

This class is a Plugin POJO

### Parameters

-   `path` **[string][1004]?** The plugin path
-   `relative` **[boolean][1008]?** The plugin path
-   `identifier` **[string][1004]** Plugin identifier (optional, default `null`)
-   `version` **[string][1004]** Plugin version (optional, default `null`)
-   `enable` **[boolean][1008]** `true` if plugin is enable, `false` otherwise (optional, default `true`)
-   `dependencies` **[Array][1005]** The dependencies (array of identifiers) list (optional, default `[]`)

### json

Transform json raw object to instance

#### Parameters

-   `data` **[object][1009]** JSON object data

Returns **[PluginConf][1042]** A User instance

## ServicesManagerAPI

Public API for services manager

### Parameters

-   `servicesManager`  

### add

Add a service

#### Parameters

-   `service` **[Service][1045]** The service

### remove

Remove a service to services pool

#### Parameters

-   `service` **[Service][1045]** A service

### stop

Stop all services

### start

Start all services

### getThreadsManager

Returns the threads manager

Returns **ThreadsManager** The threads manager

### constants

Expose a list of constants

Returns **[object][1009]** Constants

## ServicesManager

This class allows to manage services

### Parameters

-   `threadsManager` **ThreadsManager** A thread manager
-   `eventBus` **EventEmitter** The global event bus
-   `smartiesRunnerConstants` **[object][1009]** Runner constants
-   `timeEventService` **[TimeEventService][1019]** The time event service

### isServiceRegistered

Check if a service has been already registered

#### Parameters

-   `service` **[Service][1045]** A service

Returns **int** \-1 if not found, else the index

### add

Add a service to services pool

#### Parameters

-   `service` **[Service][1045]** A service

### remove

Remove a service to services pool

#### Parameters

-   `service` **[Service][1045]** A service

### start

Start services
Can potentially throw Errors

### stop

Start services
Can potentially throw Errors

### restart

Restart services
Can potentially throw Errors

### getService

Return the service from the name

#### Parameters

-   `name` **[string][1004]** Service name

Returns **[Service][1045]** The desired service, null if not found

## ThemeAPI

Public API for theme, colors

### Parameters

-   `themeManager`  

### getColors

Retrieve the theme colors

#### Parameters

-   `username` **[string][1004]** A username, for customization (optional, default `null`)

Returns **[object][1009]** Colors

### constants

Access to web services constants

Returns **[object][1009]** The constants

## ThemeManager

This class generates dashboard

### Parameters

-   `appConfiguration` **AppConfiguration** Configuration
-   `webServices` **[WebServices][1010]** The web services

### checkColorFormat

Check if the color is in right format

#### Parameters

-   `color` **[string][1004]** A color

Returns **[boolean][1008]** `true` if color is ok, `false` otherwise

### setThemeForUser

Set a specific theme for a user

#### Parameters

-   `username` **[string][1004]** A username
-   `theme` **[object][1009]** A theme

### getColors

Retrieve the theme colors

#### Parameters

-   `username` **[string][1004]** A username (optional, default `null`)

Returns **[object][1009]** Colors

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

## TimeEventAPI

Public API for time events

### Parameters

-   `timeEventService`  

### register

Register an timer element

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when conditions are reached (context will be set back as parameter). Example : `(self) => {}`
-   `context` **[object][1009]** The context to exectue the callback
-   `mode` **int** Mode (enum) : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`
-   `hour` **[string][1004]** The hour value. `*` for all (optional, default `null`)
-   `minute` **[string][1004]** The minute value. `*` for all (optional, default `null`)
-   `second` **[string][1004]** The second value. `*` for all (optional, default `null`)
-   `key` **[string][1004]** A register key (optional) (optional, default `null`)

### unregister

Unegister an timer element

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when conditions are reached (context will be set back as parameter). Example : `(self) => {}`
-   `mode` **int** Mode (enum) : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`
-   `hour` **[string][1004]** The hour value. `*` for all (optional, default `null`)
-   `minute` **[string][1004]** The minute value. `*` for all (optional, default `null`)
-   `second` **[string][1004]** The second value. `*` for all (optional, default `null`)
-   `key` **[string][1004]** A register key (optional) (optional, default `null`)

### constants

Expose a list of constants : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`

Returns **[object][1009]** Constants

## TimeEventService

**Extends Service.class**

This class allows registered items to be notified on tile recursively

### start

Start the service

### stop

Stop the service

### hash

Compute a SHA256 hash for the registered object

#### Parameters

-   `cb` **[Function][1003]** A callback
-   `mode` **int** Mode (enum) : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`
-   `hour` **[string][1004]** An hour (optional, default `null`)
-   `minute` **[string][1004]** A minute (optional, default `null`)
-   `second` **[string][1004]** A second (optional, default `null`)

Returns **[string][1004]** A SHA256 hash key

### elementForHash

Check if the element is already registered

#### Parameters

-   `hash` **[string][1004]** A registered element hash

Returns **int** The index of the element in array. If not found, returns -1

### register

Register an timer element

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when conditions are reached (context will be set back as parameter). Example : `(self) => {}`
-   `context` **[object][1009]** The context to exectue the callback
-   `mode` **int** Mode (enum) : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`
-   `hour` **[string][1004]** The hour value. `*` for all (optional, default `null`)
-   `minute` **[string][1004]** The minute value. `*` for all (optional, default `null`)
-   `second` **[string][1004]** The second value. `*` for all (optional, default `null`)
-   `key` **[string][1004]** A register key (optional) (optional, default `null`)

### unregister

Unegister an timer element

#### Parameters

-   `cb` **[Function][1003]** A callback triggered when conditions are reached (context will be set back as parameter). Example : `(self) => {}`
-   `mode` **int** Mode (enum) : `EVERY_SECONDS`, `EVERY_MINUTES`, `EVERY_HOURS`, `EVERY_DAYS` or `CUSTOM`
-   `hour` **[string][1004]** The hour value. `*` for all (optional, default `null`)
-   `minute` **[string][1004]** The minute value. `*` for all (optional, default `null`)
-   `second` **[string][1004]** The second value. `*` for all (optional, default `null`)
-   `key` **[string][1004]** A register key (optional) (optional, default `null`)

### convertMode

Convert values fro menum to valid hour, minute and seconds

#### Parameters

-   `obj` **[object][1009]** A TimerEvent object

Returns **[object][1009]** A converted timerEvent object

### timeEvent

Called when services starts, every seconds and trigger time events

#### Parameters

-   `self` **TimerEventService** Current timer event service reference (context)
-   `hash` **[string][1004]** The hash key

## TranslateAPI

Public API for translations

### Parameters

-   `translateManager`  

### load

Load translations. Called automatically when calling `api.init()`

### t

Return a translation value

#### Parameters

-   `key` **[string][1004]** the key where values containe possible `%@` placeholders
-   `values` **...[string][1004]** Optional, the placeholders values. Each `%@` will be sequentially replaced by thos values

Returns **[string][1004]** A translation

## UserAPI

Public API for users

### Parameters

-   `userManager`  

### addAdditionalFields

Add additional fields to user registration

#### Parameters

-   `form` **[FormObject][1032]** A form object
-   `inject` **...[object][1009]** Parameters injection on static methods

### getUsers

Get all users (anonymized)

Returns **[Array][1005]** An array of users

### allUsersAtHome

Check if all users are at home

Returns **[boolean][1008]** True if everybody is at home, false otherwise

### nobodyAtHome

Check if no users are at home

Returns **[boolean][1008]** True if nobody is at home, false otherwise

### somebodyAtHome

Check if at lesat one user is at home

Returns **[boolean][1008]** True if somebody is at home, false otherwise

### registerHomeNotifications

Register for user's home notifications, ie when a user leaves / enter home

#### Parameters

-   `cb` **[Function][1003]** A callback `(user) => {}`

### unregisterHomeNotifications

Unregister for user's home notifications, ie when a user leaves / enter home

#### Parameters

-   `cb` **[Function][1003]** A callback `(user) => {}`

## WebAPI

Public API for Web services

### Parameters

-   `webServices`  

### register

Register to a specific web service be notified when a route and/or method is called

#### Parameters

-   `delegate` **[object][1009]** A delegate which implements the processAPI(apiRequest) function
-   `method` **[string][1004]** A method (\*, WebServices.GET / WebServices.POST) (optional, default `"*"`)
-   `route` **[string][1004]** A route (\*, :/my/route/) (optional, default `"*"`)
-   `authLevel` **int** An authentification level (optional, default `Authentication.AUTH_USAGE_LEVEL`)
-   `tokenExpirationTime` **int** A token expiration time in seconds, for token authentication. 0 for one time token. (optional, default `0`)

### unregister

Unregister to a specific web service

#### Parameters

-   `delegate` **[object][1009]** A delegate which implements the processAPI(apiRequest) function
-   `method` **[string][1004]** A method (\*, WebServices.GET / WebServices.POST) (optional, default `"*"`)
-   `route` **[string][1004]** A route (\*, :/my/route/) (optional, default `"*"`)

### Authentication

Get authentication constants : e.g. :  this.webApi.Authentication().AUTH_NO_LEVEL

Returns **[object][1009]** All constants as properties

### APIResponse

Create an APIResponse object

#### Parameters

-   `success` **[boolean][1008]** Set to true if API success, else false (optional, default `false`)
-   `response` **[object][1009]** A response object to transmit (optional) (optional, default `{}`)
-   `errorCode` **int** The error code (optional) (optional, default `-1`)
-   `errorMessage` **[string][1004]** The error message (optional) (optional, default `null`)

Returns **[APIResponse][1046]** The instance

### constants

Access to web services constants

Returns **[object][1009]** The constants

### getToken

Generates a token

#### Parameters

-   `route` **[string][1004]** The route
-   `expirationTime` **int** Expiration time - 0 for one time usage (optional, default `0`)

Returns **[string][1004]** The token

### getTokenWithIdentifier

Generates a token

#### Parameters

-   `identifier` **[string][1004]** The identifier
-   `expirationTime` **int** Expiration time in sec - 0 for one time usage (optional, default `0`)

Returns **[string][1004]** The token

## APIResponse

This class is a POJO representing an APIResponse item

### Parameters

-   `success` **[boolean][1008]** Set to true if API success, else false (optional, default `false`)
-   `response` **[object][1009]** A response object to transmit (optional) (optional, default `{}`)
-   `errorCode` **int** The error code (optional) (optional, default `-1`)
-   `errorMessage` **[string][1004]** The error message (optional) (optional, default `null`)
-   `upToDate` **[boolean][1008]** True will return 304 no content. (optional, default `false`)
-   `contentType` **[string][1004]** The content type (optional, default `"application/json"`)

### success

Success

Type: bool

### response

Response

Type: [object][1009]

### errorCode

Error code

Type: int

### errorMessage

The error message

Type: [string][1004]

## WebServices

**Extends Service.class**

This class manage Web Services call, and more specifically the external APIs

### Parameters

-   `translateManager` **TranslateManager** The translation manager
-   `port` **int** The listening HTTP port (optional, default `8080`)
-   `sslPort` **int** The listening HTTPS port (optional, default `8443`)
-   `sslKey` **[string][1004]** The path for SSL key (optional, default `null`)
-   `sslCert` **[string][1004]** The path for sslCert key (optional, default `null`)
-   `enableCompression` **[string][1004]** Enable gzip data compression (optional, default `true`)
-   `cachePath` **[string][1004]** The cache path (optional, default `null`)
-   `AppConfiguration` **[object][1009]** The app configuration
-   `eventBus` **EventEmitter** The global event bus
-   `servicesManager` **[ServicesManager][1040]** The services manager

### start

Start Web Services

### startTunnelGateway

Start tunnel gateway

#### Parameters

-   `port` **[number][1007]** Tunnel port

### stop

Stop Web Services

### registerInfos

Register and list informations

### getRouteIdentifier

Get the route serviceIdentifier

#### Parameters

-   `route` **[string][1004]** A route

Returns **[string][1004]** The identifier

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

### register

Override Register service callback

#### Parameters

-   `delegate` **[object][1009]** The service delegate

### unregister

Override Unregister service callback

#### Parameters

-   `delegate` **[object][1009]** The service delegate

### registerAPI

Register to a specific API to be notified when a route and/or method is called

#### Parameters

-   `delegate` **[object][1009]** A delegate which implements the processAPI(apiRequest) function
-   `method` **[string][1004]** A method (\*, WebServices.GET / WebServices.POST / WebServices.DELETE) (optional, default `"*"`)
-   `route` **[string][1004]** A route (\*, :/my/route/) (optional, default `"*"`)
-   `authLevel` **int** An authentification level (optional, default `Authentication.AUTH_USAGE_LEVEL`)
-   `tokenExpirationTime` **int** A token expiration time in seconds, for token authentication. 0 for one time token. (optional, default `0`)

### unregisterAPI

Unregister a specific API to be not notified when a route and/or method is called

#### Parameters

-   `delegate` **[object][1009]** A delegate which implements the processAPI(apiRequest) function
-   `method` **[string][1004]** A method (\*, WebServices.GET / WebServices.POST) (optional, default `"*"`)
-   `route` **[string][1004]** A route (\*, :/my/route/) (optional, default `"*"`)

### manageResponse

Create an API

#### Parameters

-   `req` **[Request][1047]** The WS request
-   `endpoint` **[string][1004]** The WS endpoint
-   `res` **[Response][1048]** The WS response

Returns **[APIRequest][1011]** An API Request

### buildPromises

Build a promise array from delegates

#### Parameters

-   `apiRequest` **[APIRequest][1011]** The apiRequest

Returns **\[[Promise][1006]]** An array of promises

### runPromises

Run promises sequentially

#### Parameters

-   `apiRequest` **\[[APIRequest][1011]]** The API Request object
-   `promises` **\[promises]** An array of promises (delegates callees)
-   `res` **[Response][1048]** The response

### sendAPIResponse

Process sending results in JSON to API caller

#### Parameters

-   `apiResponses` **\[[APIResponse][1046]]** The API responses
-   `res` **[Response][1048]** The response

### getEndpointApi

Get the endpoint Apis

Returns **[string][1004]** The endpoint API

### setAuthentication

Set authentication module

#### Parameters

-   `authentication` **[Authentication][1049]** The authentication module

### getToken

Generates a token

#### Parameters

-   `route` **[string][1004]** The route
-   `expirationTime` **int** Expiration time in sec - 0 for one time usage (optional, default `0`)

Returns **[string][1004]** The token

### getTokenWithIdentifier

Generates a token

#### Parameters

-   `identifier` **[string][1004]** The identifier
-   `expirationTime` **int** Expiration time in sec - 0 for one time usage (optional, default `0`)

Returns **[string][1004]** The token

## TunnelNgrok

**Extends Tunnel.class**

This class wraps ngrok tunnel apis

### Parameters

-   `port` **int** The web services port
-   `gatewayManager` **[GatewayManager][1041]** The gateway manager
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `AppConfiguration` **[object][1009]** The app configuration
-   `cbTunnelDone` **[Function][1003]** Callback when tunnel is created

### start

Start tunnel

### stop

Stop tunnel

## Tunnel

This class wraps tunnel apis

### Parameters

-   `port` **int** The web services port
-   `gatewayManager` **[GatewayManager][1041]** The gateway manager
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `AppConfiguration` **[object][1009]** The app configuration
-   `cbTunnelDone` **[Function][1003]** Callback when tunnel is created

### start

Start tunnel

### stop

Stop tunnel

### ready

Set when ready

#### Parameters

-   `url` **[string][1004]** The tunnel url

## TunnelLocalTunnel

**Extends Tunnel.class**

This class wraps local tunnel apis

### Parameters

-   `port` **int** The web services port
-   `gatewayManager` **[GatewayManager][1041]** The gateway manager
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `AppConfiguration` **[object][1009]** The app configuration
-   `cbTunnelDone` **[Function][1003]** Callback when tunnel is created

### start

Start tunnel

### stop

Stop tunnel

## TunnelLocalxpose

**Extends Tunnel.class**

This class wraps local tunnel apis

### Parameters

-   `port` **int** The web services port
-   `gatewayManager` **[GatewayManager][1041]** The gateway manager
-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `AppConfiguration` **[object][1009]** The app configuration
-   `cbTunnelDone` **[Function][1003]** Callback when tunnel is created

### start

Start tunnel

### stop

Stop tunnel

## GatewayManager

This class manage gateway communications

### Parameters

-   `environmentManager` **[EnvironmentManager][1015]** The environment manager
-   `version` **[string][1004]** Smarties version
-   `hash` **[string][1004]** Smarties commit hash
-   `timeEventService` **[TimeEventService][1019]** Time event service
-   `appConfiguration` **[object][1009]** App configuration
-   `webServices` **[WebServices][1010]** The web services
-   `eventBus` **EventEmitter** The global event bus
-   `scenarioManager` **ScenarioManager** The scenario manager
-   `threadsManager` **ThreadsManager** The threads manager
-   `messageManager` **MessageManager** The message manager
-   `translateManager` **TranslateManager** The translate manager
-   `readyEvent` **[string][1004]** The ready event tag
-   `installEvent` **[string][1004]** The install event tag

### getDistantUrl

Get full smarties URL

Returns **[string][1004]** The URL

### getDistantApiUrl

Get full smarties API URL

Returns **[string][1004]** The URL

### getBaseUrl

Get full smarties API URL

Returns **[string][1004]** The URL

### sandboxedRequest

Transmit function threaded methods (threads manager)

#### Parameters

-   `data` **[object][1009]** The needs
-   `message` **[Function][1003]** Called to send back answer

### sandboxedRequestresponse

Transmit function sandbox callback

#### Parameters

-   `data` **[object][1009]** Results
-   `threadsManager` **ThreadsManager** The threads manager (can be used to call kill)
-   `context` **[GatewayManager][1041]** This instance

### transmit

Transmit informations to gateway

#### Parameters

-   `async` **[boolean][1008]** Enable or disable async (optional, default `true`)

### processAPI

Process API callback

#### Parameters

-   `apiRequest` **[APIRequest][1011]** An APIRequest

Returns **[Promise][1006]** A promise with an APIResponse object

## APIRequest

This class is a POJO representing an APIRequest item

### Parameters

-   `method` **[string][1004]** The method
-   `ip` **[string][1004]** IP address
-   `route` **[string][1004]** The route
-   `path` **[Array][1005]** The path (route splitted in array)
-   `action` **[string][1004]** The action (first element of route)
-   `params` **[object][1009]** The parameters under key / value format
-   `req` **[Request][1047]?** The request
-   `res` **[Response][1048]?** The response
-   `data` **[object][1009]** The object sent (optional, default `null`)
-   `apiRegistration` **[APIRegistration][1050]** The corresponding API registration (optional, default `null`)

### method

method

Type: [string][1004]

### ip

ip

Type: [string][1004]

### route

route

Type: [string][1004]

### path

path

Type: [string][1004]

### action

action

Type: [string][1004]

### params

params

Type: [object][1009]

### data

data

Type: [object][1009]

### authenticationData

Authentication data

Type: [AuthenticationData][1051]

### addAuthenticationData

Add authentication data to request

#### Parameters

-   `authenticationData` **[AuthenticationData][1051]** The data authentication

## APIRegistration

This class is a POJO representing an APIRegistration item

### Parameters

-   `delegate` **[object][1009]** The object which implements the processAPI callback
-   `method` **[string][1004]** The method (GET, POST, ...) (optional, default `"*"`)
-   `route` **[string][1004]** The needed route (:/foo/bar) (optional, default `"*"`)
-   `authLevel` **int** The authentication level needed to be called (optional, default `Authentication.AUTH_USAGE_LEVEL`)
-   `identifier` **[string][1004]** The route service identifier (optional, default `null`)
-   `authTokenExpiration` **int** The expiration time for token, in seconds (optional, default `0`)

### delegate

delegate

Type: [object][1009]

### method

method

Type: [string][1004]

### route

route

Type: [string][1004]

### authLevel

Authentication level requested for API

Type: int

### isEqual

Check if the parameter equality

#### Parameters

-   `obj` **[APIRegistration][1050]** An APIRegistration object

Returns **[boolean][1008]** true or false

### getRouteBase

Returns the route base string

Returns **[string][1004]** The base route (without parameters)

[1]: #aiapi

[2]: #parameters

[3]: #register

[4]: #parameters-1

[5]: #learn

[6]: #parameters-2

[7]: #learnwithtime

[8]: #parameters-3

[9]: #guess

[10]: #parameters-4

[11]: #guesswithtime

[12]: #parameters-5

[13]: #alarmapi

[14]: #parameters-6

[15]: #alarmstatus

[16]: #enablealarm

[17]: #disablealarm

[18]: #backupapi

[19]: #parameters-7

[20]: #alarmstatus-1

[21]: #backup

[22]: #parameters-8

[23]: #restore

[24]: #parameters-9

[25]: #cleanbackupfile

[26]: #parameters-10

[27]: #addbackupfolder

[28]: #parameters-11

[29]: #addbackupfile

[30]: #parameters-12

[31]: #botengineapi

[32]: #parameters-13

[33]: #playsound

[34]: #parameters-14

[35]: #texttospeech

[36]: #parameters-15

[37]: #registerbotaction

[38]: #parameters-16

[39]: #unregisterbotaction

[40]: #parameters-17

[41]: #stringsimilarity

[42]: #switchvocalcommands

[43]: #parameters-18

[44]: #cameraapi

[45]: #parameters-19

[46]: #registerform

[47]: #parameters-20

[48]: #registerclass

[49]: #parameters-21

[50]: #getcameras

[51]: #getimage

[52]: #parameters-22

[53]: #record

[54]: #parameters-23

[55]: #getavailabledetectedobjects

[56]: #registercameraevent

[57]: #parameters-24

[58]: #unregistercameraevent

[59]: #parameters-25

[60]: #saveconfiguration

[61]: #parameters-26

[62]: #getcamera

[63]: #parameters-27

[64]: #configurationapi

[65]: #parameters-28

[66]: #register-1

[67]: #parameters-29

[68]: #registersubform

[69]: #parameters-30

[70]: #getconfiguration

[71]: #getform

[72]: #setupdatecb

[73]: #parameters-31

[74]: #loaddata

[75]: #parameters-32

[76]: #savedata

[77]: #parameters-33

[78]: #getconfmanager

[79]: #stop

[80]: #formconfiguration

[81]: #parameters-34

[82]: #unregister

[83]: #setupdatecb-1

[84]: #parameters-35

[85]: #addadditionalfields

[86]: #parameters-36

[87]: #addadditionalfieldswithsort

[88]: #parameters-37

[89]: #loadconfig

[90]: #saveconfig

[91]: #parameters-38

[92]: #save

[93]: #comparator

[94]: #parameters-39

[95]: #registerform-1

[96]: #parameters-40

[97]: #processapi

[98]: #parameters-41

[99]: #getdatacopy

[100]: #getconfig

[101]: #getform-1

[102]: #setsortfunction

[103]: #parameters-42

[104]: #logger

[105]: #setloglevel

[106]: #parameters-43

[107]: #log

[108]: #parameters-44

[109]: #removecolors

[110]: #parameters-45

[111]: #flog

[112]: #parameters-46

[113]: #warn

[114]: #parameters-47

[115]: #err

[116]: #parameters-48

[117]: #verbose

[118]: #parameters-49

[119]: #info

[120]: #parameters-50

[121]: #debug

[122]: #parameters-51

[123]: #gethistory

[124]: #coreapi

[125]: #parameters-52

[126]: #dispatchevent

[127]: #parameters-53

[128]: #unregisterevent

[129]: #parameters-54

[130]: #registerevent

[131]: #parameters-55

[132]: #cachepath

[133]: #dashboardapi

[134]: #parameters-56

[135]: #registertile

[136]: #parameters-57

[137]: #unregistertile

[138]: #parameters-58

[139]: #tile

[140]: #parameters-59

[141]: #tiletype

[142]: #tile-1

[143]: #parameters-60

[144]: #get

[145]: #customize

[146]: #parameters-61

[147]: #hash

[148]: #applymode

[149]: #parameters-62

[150]: #cleaner

[151]: #exportconstants

[152]: #parameters-63

[153]: #cleandbobject

[154]: #parameters-64

[155]: #authentication

[156]: #parameters-65

[157]: #clearexpiredtokens

[158]: #generatetoken

[159]: #parameters-66

[160]: #processapi-1

[161]: #parameters-67

[162]: #checklocalip

[163]: #parameters-68

[164]: #processauthentication

[165]: #parameters-69

[166]: #authenticationdata

[167]: #parameters-70

[168]: #authorized

[169]: #username

[170]: #level

[171]: #dateutils

[172]: #timestamp

[173]: #timestampms

[174]: #datetoutctimestamp

[175]: #parameters-71

[176]: #datetotimestamp

[177]: #parameters-72

[178]: #roundedtimestamp

[179]: #parameters-73

[180]: #dateformatted

[181]: #parameters-74

[182]: #secondselapsedsincemidnight

[183]: #parameters-75

[184]: #isholiday

[185]: #parameters-76

[186]: #relativetime

[187]: #parameters-77

[188]: #databaseapi

[189]: #parameters-78

[190]: #addoptimization

[191]: #parameters-79

[192]: #register-2

[193]: #parameters-80

[194]: #dbhelper

[195]: #parameters-81

[196]: #dbhelper-1

[197]: #parameters-82

[198]: #requestbuilder

[199]: #operators

[200]: #getfieldsfortable

[201]: #saveobject

[202]: #parameters-83

[203]: #getobject

[204]: #parameters-84

[205]: #getobjects

[206]: #parameters-85

[207]: #getlastobject

[208]: #parameters-86

[209]: #delobject

[210]: #parameters-87

[211]: #delobjects

[212]: #parameters-88

[213]: #dbobject

[214]: #parameters-89

[215]: #base

[216]: #save-1

[217]: #parameters-90

[218]: #del

[219]: #parameters-91

[220]: #dbrequestbuilder

[221]: #parameters-92

[222]: #removelastcomma

[223]: #parameters-93

[224]: #escapestring

[225]: #parameters-94

[226]: #getvalueencapsulated

[227]: #parameters-95

[228]: #getmetaforfield

[229]: #parameters-96

[230]: #save-2

[231]: #parameters-97

[232]: #get-1

[233]: #parameters-98

[234]: #del-1

[235]: #parameters-99

[236]: #selectop

[237]: #parameters-100

[238]: #optimizeindex

[239]: #parameters-101

[240]: #select

[241]: #parameters-102

[242]: #insert

[243]: #parameters-103

[244]: #update

[245]: #parameters-104

[246]: #upsert

[247]: #parameters-105

[248]: #remove

[249]: #values

[250]: #parameters-106

[251]: #where

[252]: #parameters-107

[253]: #complexwhere

[254]: #parameters-108

[255]: #groupop

[256]: #parameters-109

[257]: #group

[258]: #parameters-110

[259]: #order

[260]: #parameters-111

[261]: #lim

[262]: #parameters-112

[263]: #first

[264]: #parameters-113

[265]: #cleanforselect

[266]: #distinct

[267]: #cleanfordelete

[268]: #request

[269]: #dbschemaconverter

[270]: #tablename

[271]: #parameters-114

[272]: #toschema

[273]: #parameters-115

[274]: #convert

[275]: #convertproperties

[276]: #parameters-116

[277]: #deviceapi

[278]: #parameters-117

[279]: #getdevices

[280]: #switchdevice

[281]: #parameters-118

[282]: #constants

[283]: #getdevicestatus

[284]: #parameters-119

[285]: #addform

[286]: #parameters-120

[287]: #registerswitchdevice

[288]: #parameters-121

[289]: #savedevice

[290]: #parameters-122

[291]: #getdevicetypes

[292]: #parameters-123

[293]: #getdevicebyid

[294]: #parameters-124

[295]: #switchdevicewithdevice

[296]: #parameters-125

[297]: #getdbhelper

[298]: #guessdevicestatus

[299]: #parameters-126

[300]: #devicemanager

[301]: #parameters-127

[302]: #addform-1

[303]: #parameters-128

[304]: #registerswitchdevice-1

[305]: #parameters-129

[306]: #triggerscenario

[307]: #parameters-130

[308]: #registerdevicelistform

[309]: #registerdevicetiles

[310]: #getdevices-1

[311]: #getdevicestatus-1

[312]: #parameters-131

[313]: #bestdevicetype

[314]: #parameters-132

[315]: #registerdevicetile

[316]: #parameters-133

[317]: #getdevicetypes-1

[318]: #parameters-134

[319]: #getdevicebyid-1

[320]: #parameters-135

[321]: #switchdevice-1

[322]: #parameters-136

[323]: #guessdevicestatus-1

[324]: #parameters-137

[325]: #switchdevicewithdevice-1

[326]: #parameters-138

[327]: #savedevice-1

[328]: #parameters-139

[329]: #switchall

[330]: #parameters-140

[331]: #getdbhelper-1

[332]: #processapi-2

[333]: #parameters-141

[334]: #deviceform

[335]: #parameters-142

[336]: #name

[337]: #excludefromall

[338]: #visible

[339]: #poweroutagerestore

[340]: #worksonlyondaynight

[341]: #icon

[342]: #room

[343]: #status

[344]: #brightness

[345]: #color

[346]: #colortemperature

[347]: #subdevices

[348]: #json

[349]: #parameters-143

[350]: #deviceslistform

[351]: #parameters-144

[352]: #identifier

[353]: #status-1

[354]: #keepparams

[355]: #brightness-1

[356]: #color-1

[357]: #colortemperature-1

[358]: #updatebrightness

[359]: #updatetemperature

[360]: #updatecolor

[361]: #json-1

[362]: #parameters-145

[363]: #getdevicesname

[364]: #parameters-146

[365]: #getdevicesid

[366]: #parameters-147

[367]: #deviceslistsimpleform

[368]: #parameters-148

[369]: #identifier-1

[370]: #json-2

[371]: #parameters-149

[372]: #getdevicesname-1

[373]: #parameters-150

[374]: #getdevicesid-1

[375]: #parameters-151

[376]: #deviceslistscenariotriggerform

[377]: #parameters-152

[378]: #identifier-2

[379]: #status-2

[380]: #json-3

[381]: #parameters-153

[382]: #getdevicesname-2

[383]: #parameters-154

[384]: #getdevicesid-2

[385]: #parameters-155

[386]: #deviceslistscenarioform

[387]: #parameters-156

[388]: #turnonall

[389]: #turnoffall

[390]: #devices

[391]: #triggerondevice

[392]: #json-4

[393]: #parameters-157

[394]: #icons

[395]: #iconssvg

[396]: #icons-1

[397]: #list

[398]: #devicestatus

[399]: #parameters-158

[400]: #getstatus

[401]: #getbrightness

[402]: #getcolor

[403]: #getcolortemperature

[404]: #setstatus

[405]: #parameters-159

[406]: #setbrightness

[407]: #parameters-160

[408]: #setcolor

[409]: #parameters-161

[410]: #setcolortemperature

[411]: #parameters-162

[412]: #tileformat

[413]: #dbdevice

[414]: #parameters-163

[415]: #identifier-3

[416]: #identifier-4

[417]: #status-3

[418]: #brightness-2

[419]: #color-2

[420]: #temperature

[421]: #environmentapi

[422]: #parameters-164

[423]: #getcoordinates

[424]: #setday

[425]: #setnight

[426]: #isnight

[427]: #registerdaynightnotifications

[428]: #parameters-165

[429]: #unregisterdaynightnotifications

[430]: #parameters-166

[431]: #getlocalapiurl

[432]: #getsmartiesid

[433]: #getfullsmartiesid

[434]: #getscannedip

[435]: #getlocalip

[436]: #constants-1

[437]: #environmentmanager

[438]: #parameters-167

[439]: #settimezone

[440]: #parameters-168

[441]: #registerdaynightnotifications-1

[442]: #parameters-169

[443]: #unregisterdaynightnotifications-1

[444]: #parameters-170

[445]: #registertile-1

[446]: #getcoordinates-1

[447]: #getcountry

[448]: #getseason

[449]: #parameters-171

[450]: #dispatchdaynightchange

[451]: #setday-1

[452]: #setnight-1

[453]: #isnight-1

[454]: #getlocalport

[455]: #getlocalip-1

[456]: #getmacaddress

[457]: #getlocalapiurl-1

[458]: #savemainconfiguration

[459]: #parameters-172

[460]: #processapi-3

[461]: #parameters-173

[462]: #updatecore

[463]: #isdefaultconfig

[464]: #getsmartiesid-1

[465]: #getfullsmartiesid-1

[466]: #registeripscanform

[467]: #startipscan

[468]: #manageuptimefile

[469]: #environmentform

[470]: #parameters-174

[471]: #day

[472]: #json-5

[473]: #parameters-175

[474]: #daynightscenarioform

[475]: #parameters-176

[476]: #mode

[477]: #json-6

[478]: #parameters-177

[479]: #daynightscenariotriggerform

[480]: #parameters-178

[481]: #day-1

[482]: #night

[483]: #json-7

[484]: #parameters-179

[485]: #ipscanform

[486]: #parameters-180

[487]: #ip

[488]: #freetext

[489]: #freetexthidden

[490]: #json-8

[491]: #parameters-181

[492]: #getvalues

[493]: #parameters-182

[494]: #getvalueswithoutfreetext

[495]: #parameters-183

[496]: #gettitles

[497]: #parameters-184

[498]: #timerwrapper

[499]: #setinterval

[500]: #parameters-185

[501]: #clearinterval

[502]: #parameters-186

[503]: #settimeout

[504]: #parameters-187

[505]: #cleartimeout

[506]: #parameters-188

[507]: #setimmediate

[508]: #parameters-189

[509]: #clearimmediate

[510]: #parameters-190

[511]: #clearall

[512]: #gatewayapi

[513]: #parameters-191

[514]: #getdistanturl

[515]: #getdistantapiurl

[516]: #installerapi

[517]: #parameters-192

[518]: #register-3

[519]: #parameters-193

[520]: #executecommand

[521]: #parameters-194

[522]: #iotapi

[523]: #parameters-195

[524]: #registerlib

[525]: #parameters-196

[526]: #registerapp

[527]: #parameters-197

[528]: #iotappexists

[529]: #parameters-198

[530]: #getversion

[531]: #parameters-199

[532]: #getiot

[533]: #parameters-200

[534]: #build

[535]: #parameters-201

[536]: #constants-2

[537]: #getiots

[538]: #parameters-202

[539]: #isbuilding

[540]: #getwiringschemaforlib

[541]: #parameters-203

[542]: #addingredientforreceipe

[543]: #parameters-204

[544]: #setupgradeurl

[545]: #parameters-205

[546]: #setversion

[547]: #parameters-206

[548]: #messageapi

[549]: #parameters-207

[550]: #sendmessage

[551]: #parameters-208

[552]: #register-4

[553]: #parameters-209

[554]: #unregister-1

[555]: #parameters-210

[556]: #onmessagereceived

[557]: #parameters-211

[558]: #getmessages

[559]: #parameters-212

[560]: #radioapi

[561]: #parameters-213

[562]: #register-5

[563]: #parameters-214

[564]: #unregister-2

[565]: #parameters-215

[566]: #compareformobject

[567]: #parameters-216

[568]: #getlastreceivedradioinformations

[569]: #parameters-217

[570]: #refreshprotocols

[571]: #scenarioapi

[572]: #parameters-218

[573]: #registersubform-1

[574]: #parameters-219

[575]: #register-6

[576]: #parameters-220

[577]: #registerwithinjection

[578]: #parameters-221

[579]: #unregister-3

[580]: #parameters-222

[581]: #triggerscenario-1

[582]: #parameters-223

[583]: #getscenarios

[584]: #registerforscenariochanges

[585]: #parameters-224

[586]: #schedulerapi

[587]: #parameters-225

[588]: #register-7

[589]: #parameters-226

[590]: #unregister-4

[591]: #parameters-227

[592]: #schedule

[593]: #parameters-228

[594]: #cancel

[595]: #parameters-229

[596]: #constants-3

[597]: #schedulerservice

[598]: #parameters-230

[599]: #start

[600]: #stop-1

[601]: #register-8

[602]: #parameters-231

[603]: #unregister-5

[604]: #parameters-232

[605]: #schedule-1

[606]: #parameters-233

[607]: #cancel-1

[608]: #parameters-234

[609]: #timeevent

[610]: #parameters-235

[611]: #service

[612]: #parameters-236

[613]: #start-1

[614]: #run

[615]: #parameters-237

[616]: #threadcallback

[617]: #parameters-238

[618]: #send

[619]: #parameters-239

[620]: #startthreaded

[621]: #stopthreaded

[622]: #startexternal

[623]: #stopexternal

[624]: #stop-2

[625]: #restart

[626]: #status-4

[627]: #register-9

[628]: #parameters-240

[629]: #unregister-6

[630]: #parameters-241

[631]: #setthreadsmanager

[632]: #parameters-242

[633]: #setexternalterminatedcommandcb

[634]: #parameters-243

[635]: #schedulerdbobject

[636]: #parameters-244

[637]: #data

[638]: #triggerdate

[639]: #triggered

[640]: #sensorapi

[641]: #parameters-245

[642]: #registerform-2

[643]: #parameters-246

[644]: #registerclass-1

[645]: #parameters-247

[646]: #registersensorevent

[647]: #parameters-248

[648]: #unregistersensorevent

[649]: #parameters-249

[650]: #getsensors

[651]: #parameters-250

[652]: #getvalue

[653]: #parameters-251

[654]: #getsensor

[655]: #parameters-252

[656]: #iotapppowered

[657]: #constants-4

[658]: #guesssensorvalue

[659]: #parameters-253

[660]: #iotslistform

[661]: #parameters-254

[662]: #identifier-5

[663]: #json-9

[664]: #parameters-255

[665]: #getiotsname

[666]: #parameters-256

[667]: #getiotsid

[668]: #parameters-257

[669]: #formobject

[670]: #parameters-258

[671]: #json-10

[672]: #parameters-259

[673]: #id

[674]: #sensorsmanager

[675]: #parameters-260

[676]: #pluginsloaded

[677]: #parameters-261

[678]: #initsensors

[679]: #scenariotrigger

[680]: #initsensor

[681]: #parameters-262

[682]: #registersensorevent-1

[683]: #parameters-263

[684]: #getsensor-1

[685]: #parameters-264

[686]: #unregistersensorevent-1

[687]: #parameters-265

[688]: #getallsensors

[689]: #parameters-266

[690]: #onnewsensorvalue

[691]: #parameters-267

[692]: #guesssensorvalue-1

[693]: #parameters-268

[694]: #getvalue-1

[695]: #parameters-269

[696]: #processapi-4

[697]: #parameters-270

[698]: #statisticswsresponse

[699]: #parameters-271

[700]: #comparator-1

[701]: #parameters-272

[702]: #getsensorconfiguration

[703]: #parameters-273

[704]: #registersensorslistform

[705]: #sensorsform

[706]: #parameters-274

[707]: #sensorid

[708]: #json-11

[709]: #parameters-275

[710]: #getsensorids

[711]: #parameters-276

[712]: #getsensornames

[713]: #parameters-277

[714]: #sensorslistform

[715]: #parameters-278

[716]: #identifier-6

[717]: #json-12

[718]: #parameters-279

[719]: #getsensorsname

[720]: #parameters-280

[721]: #getsensorsid

[722]: #parameters-281

[723]: #sensorslistscenarioform

[724]: #parameters-282

[725]: #sensors

[726]: #json-13

[727]: #parameters-283

[728]: #sensorscenarioform

[729]: #parameters-284

[730]: #sensor

[731]: #operator

[732]: #threshold

[733]: #json-14

[734]: #parameters-285

[735]: #pluginsmanager

[736]: #parameters-286

[737]: #init

[738]: #parameters-287

[739]: #getpluginsfromdirectory

[740]: #parameters-288

[741]: #checkpluginsanity

[742]: #parameters-289

[743]: #initplugin

[744]: #parameters-290

[745]: #initplugins

[746]: #parameters-291

[747]: #registerplugins

[748]: #parameters-292

[749]: #load

[750]: #getpluginsbycategory

[751]: #parameters-293

[752]: #getpluginbyidentifier

[753]: #parameters-294

[754]: #isenabled

[755]: #parameters-295

[756]: #preparetoposortarray

[757]: #parameters-296

[758]: #toposort

[759]: #parameters-297

[760]: #topsortedarrayconverter

[761]: #parameters-298

[762]: #getpluginconf

[763]: #parameters-299

[764]: #changepluginstatus

[765]: #parameters-300

[766]: #processapi-5

[767]: #parameters-301

[768]: #pluginsapi

[769]: #parameters-302

[770]: #exportclass

[771]: #parameters-303

[772]: #init-1

[773]: #registerinstance

[774]: #parameters-304

[775]: #getplugininstance

[776]: #parameters-305

[777]: #constants-5

[778]: #getpluginsidentifiersbycategory

[779]: #parameters-306

[780]: #getidentifier

[781]: #renewoauthtoken

[782]: #parameters-307

[783]: #start-2

[784]: #stop-3

[785]: #iotform

[786]: #parameters-308

[787]: #iotapp

[788]: #name-1

[789]: #json-15

[790]: #parameters-309

[791]: #imageutils

[792]: #sanitizeformconfiguration

[793]: #parameters-310

[794]: #resize

[795]: #parameters-311

[796]: #blur

[797]: #parameters-312

[798]: #rotate

[799]: #parameters-313

[800]: #rotateb

[801]: #parameters-314

[802]: #merge

[803]: #parameters-315

[804]: #crop

[805]: #parameters-316

[806]: #filelock

[807]: #parameters-317

[808]: #lock

[809]: #parameters-318

[810]: #islocked

[811]: #parameters-319

[812]: #unlock

[813]: #parameters-320

[814]: #unlockafterdelay

[815]: #parameters-321

[816]: #pluginconf

[817]: #parameters-322

[818]: #json-16

[819]: #parameters-323

[820]: #servicesmanagerapi

[821]: #parameters-324

[822]: #add

[823]: #parameters-325

[824]: #remove-1

[825]: #parameters-326

[826]: #stop-4

[827]: #start-3

[828]: #getthreadsmanager

[829]: #constants-6

[830]: #servicesmanager

[831]: #parameters-327

[832]: #isserviceregistered

[833]: #parameters-328

[834]: #add-1

[835]: #parameters-329

[836]: #remove-2

[837]: #parameters-330

[838]: #start-4

[839]: #stop-5

[840]: #restart-1

[841]: #getservice

[842]: #parameters-331

[843]: #themeapi

[844]: #parameters-332

[845]: #getcolors

[846]: #parameters-333

[847]: #constants-7

[848]: #thememanager

[849]: #parameters-334

[850]: #checkcolorformat

[851]: #parameters-335

[852]: #setthemeforuser

[853]: #parameters-336

[854]: #getcolors-1

[855]: #parameters-337

[856]: #processapi-6

[857]: #parameters-338

[858]: #timeeventapi

[859]: #parameters-339

[860]: #register-10

[861]: #parameters-340

[862]: #unregister-7

[863]: #parameters-341

[864]: #constants-8

[865]: #timeeventservice

[866]: #start-5

[867]: #stop-6

[868]: #hash-1

[869]: #parameters-342

[870]: #elementforhash

[871]: #parameters-343

[872]: #register-11

[873]: #parameters-344

[874]: #unregister-8

[875]: #parameters-345

[876]: #convertmode

[877]: #parameters-346

[878]: #timeevent-1

[879]: #parameters-347

[880]: #translateapi

[881]: #parameters-348

[882]: #load-1

[883]: #t

[884]: #parameters-349

[885]: #userapi

[886]: #parameters-350

[887]: #addadditionalfields-1

[888]: #parameters-351

[889]: #getusers

[890]: #allusersathome

[891]: #nobodyathome

[892]: #somebodyathome

[893]: #registerhomenotifications

[894]: #parameters-352

[895]: #unregisterhomenotifications

[896]: #parameters-353

[897]: #webapi

[898]: #parameters-354

[899]: #register-12

[900]: #parameters-355

[901]: #unregister-9

[902]: #parameters-356

[903]: #authentication-1

[904]: #apiresponse

[905]: #parameters-357

[906]: #constants-9

[907]: #gettoken

[908]: #parameters-358

[909]: #gettokenwithidentifier

[910]: #parameters-359

[911]: #apiresponse-1

[912]: #parameters-360

[913]: #success

[914]: #response

[915]: #errorcode

[916]: #errormessage

[917]: #webservices

[918]: #parameters-361

[919]: #start-6

[920]: #starttunnelgateway

[921]: #parameters-362

[922]: #stop-7

[923]: #registerinfos

[924]: #getrouteidentifier

[925]: #parameters-363

[926]: #processapi-7

[927]: #parameters-364

[928]: #register-13

[929]: #parameters-365

[930]: #unregister-10

[931]: #parameters-366

[932]: #registerapi

[933]: #parameters-367

[934]: #unregisterapi

[935]: #parameters-368

[936]: #manageresponse

[937]: #parameters-369

[938]: #buildpromises

[939]: #parameters-370

[940]: #runpromises

[941]: #parameters-371

[942]: #sendapiresponse

[943]: #parameters-372

[944]: #getendpointapi

[945]: #setauthentication

[946]: #parameters-373

[947]: #gettoken-1

[948]: #parameters-374

[949]: #gettokenwithidentifier-1

[950]: #parameters-375

[951]: #tunnelngrok

[952]: #parameters-376

[953]: #start-7

[954]: #stop-8

[955]: #tunnel

[956]: #parameters-377

[957]: #start-8

[958]: #stop-9

[959]: #ready

[960]: #parameters-378

[961]: #tunnellocaltunnel

[962]: #parameters-379

[963]: #start-9

[964]: #stop-10

[965]: #tunnellocalxpose

[966]: #parameters-380

[967]: #start-10

[968]: #stop-11

[969]: #gatewaymanager

[970]: #parameters-381

[971]: #getdistanturl-1

[972]: #getdistantapiurl-1

[973]: #getbaseurl

[974]: #sandboxedrequest

[975]: #parameters-382

[976]: #sandboxedrequestresponse

[977]: #parameters-383

[978]: #transmit

[979]: #parameters-384

[980]: #processapi-8

[981]: #parameters-385

[982]: #apirequest

[983]: #parameters-386

[984]: #method

[985]: #ip-1

[986]: #route

[987]: #path

[988]: #action

[989]: #params

[990]: #data-1

[991]: #authenticationdata-1

[992]: #addauthenticationdata

[993]: #parameters-387

[994]: #apiregistration

[995]: #parameters-388

[996]: #delegate

[997]: #method-1

[998]: #route-1

[999]: #authlevel

[1000]: #isequal

[1001]: #parameters-389

[1002]: #getroutebase

[1003]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[1004]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[1005]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[1006]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[1007]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[1008]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[1009]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[1010]: #webservices

[1011]: #apirequest

[1012]: #tile

[1013]: #thememanager

[1014]: #dbobject

[1015]: #environmentmanager

[1016]: #dbhelper

[1017]: #dbrequestbuilder

[1018]: #sensorsmanager

[1019]: #timeeventservice

[1020]: #devicemanager

[1021]: #deviceform

[1022]: #deviceslistform

[1023]: #deviceslistsimpleform

[1024]: #deviceslistscenariotriggerform

[1025]: #deviceslistscenarioform

[1026]: http://192.168.1.3:8100/api/

[1027]: http://192.168.2.34:8100/api/

[1028]: #environmentform

[1029]: #daynightscenarioform

[1030]: #daynightscenariotriggerform

[1031]: #ipscanform

[1032]: #formobject

[1033]: #schedulerservice

[1034]: #iotslistform

[1035]: #pluginsmanager

[1036]: #sensorsform

[1037]: #sensorslistform

[1038]: #sensorslistscenarioform

[1039]: #sensorscenarioform

[1040]: #servicesmanager

[1041]: #gatewaymanager

[1042]: #pluginconf

[1043]: #iotform

[1044]: https://nodejs.org/api/buffer.html

[1045]: #service

[1046]: #apiresponse

[1047]: https://developer.mozilla.org/Add-ons/SDK/High-Level_APIs/request

[1048]: https://developer.mozilla.org/docs/Web/Guide/HTML/HTML5

[1049]: #authentication

[1050]: #apiregistration

[1051]: #authenticationdata
